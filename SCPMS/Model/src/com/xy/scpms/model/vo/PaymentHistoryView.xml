<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE ViewObject SYSTEM "jbo_03_01.dtd">
<!---->
<ViewObject
  xmlns="http://xmlns.oracle.com/bc4j"
  Name="PaymentHistoryView"
  Version="11.1.2.60.17"
  SelectList="PaymentHistory.DEPARTMENT, 
       PaymentHistory.YEAR, 
       PaymentHistory.MONTH, 
       PaymentHistory.CONTRACT_AMOUNT, 
       PaymentHistory.PAYMENT_AMOUNT, 
       PaymentHistory.MODIFIED_BY, 
       PaymentHistory.MODIFIED_AT, 
       PaymentHistory.ROWID"
  FromList="OM.PAYMENT_HISTORY PaymentHistory"
  BindingStyle="OracleName"
  CustomQuery="false"
  PageIterMode="Full"
  UseGlueCode="false"
  OrderBy="PaymentHistory.YEAR,PaymentHistory.MONTH"
  ComponentClass="com.xy.scpms.model.vo.PaymentHistoryViewImpl"
  ComponentInterface="com.xy.scpms.model.vo.common.PaymentHistoryView"
  ClientProxyName="com.xy.scpms.model.vo.client.PaymentHistoryViewClient">
  <DesignTime>
    <Attr Name="_codeGenFlag2" Value="Coll|VarAccess"/>
    <Attr Name="_objectSuperClassName"
      Value="com.xy.scpms.model.common.NoAutoQueryView"/>
  </DesignTime>
  <Variable
    Name="startYr"
    Kind="viewcriteria"
    Type="oracle.jbo.domain.Number">
    <Properties>
      <SchemaBasedProperties>
        <LABEL
          ResId="com.xy.scpms.model.vo.PaymentHistoryView.startYr_LABEL"/>
      </SchemaBasedProperties>
    </Properties>
    <TransientExpression><![CDATA[2010]]></TransientExpression>
  </Variable>
  <Variable
    Name="endYr"
    Kind="viewcriteria"
    Type="oracle.jbo.domain.Number">
    <Properties>
      <SchemaBasedProperties>
        <LABEL
          ResId="com.xy.scpms.model.vo.PaymentHistoryView.endYr_LABEL"/>
      </SchemaBasedProperties>
    </Properties>
    <TransientExpression><![CDATA[2011]]></TransientExpression>
  </Variable>
  <Variable
    Name="dept"
    Kind="viewcriteria"
    Type="java.lang.String"
    DefaultValue="全院(不包括南通斯达瑞)"/>
  <ViewAccessor
    Name="depts"
    ViewObjectName="com.xy.scpms.model.vo.LovView"
    RowLevelBinds="true">
    <ViewCriteriaUsage
      Name="DEPT_RPT"
      FullName="com.xy.scpms.model.vo.LovView.DEPT_RPT"/>
  </ViewAccessor>
  <ViewAccessor
    Name="years"
    ViewObjectName="com.xy.scpms.model.vo.LovView"
    RowLevelBinds="true">
    <ViewCriteriaUsage
      Name="FISCAL_YEAR"
      FullName="com.xy.scpms.model.vo.LovView.FISCAL_YEAR"/>
  </ViewAccessor>
  <ListBinding
    Name="LOV_Department"
    ListVOName="depts"
    ListRangeSize="-1"
    NullValueFlag="start"
    NullValueId="${adfBundle['oracle.javatools.resourcebundle.SystemBundle']['NULL_VALUE_RESID']}"
    MRUCount="0">
    <AttrArray Name="AttrNames">
      <Item Value="Department"/>
    </AttrArray>
    <AttrArray Name="ListAttrNames">
      <Item Value="LookupValue"/>
    </AttrArray>
    <AttrArray Name="ListDisplayAttrNames">
      <Item Value="LookupValue"/>
    </AttrArray>
    <DisplayCriteria/>
  </ListBinding>
  <ListBinding
    Name="LOV_Year"
    ListVOName="years"
    ListRangeSize="-1"
    NullValueFlag="none"
    MRUCount="0">
    <AttrArray Name="AttrNames">
      <Item Value="Year"/>
    </AttrArray>
    <AttrArray Name="ListAttrNames">
      <Item Value="LookupValue"/>
    </AttrArray>
    <AttrArray Name="ListDisplayAttrNames">
      <Item Value="LookupValue"/>
    </AttrArray>
    <DisplayCriteria/>
  </ListBinding>
  <EntityUsage
    Name="PaymentHistory"
    Entity="com.xy.scpms.model.eo.PaymentHistory"/>
  <ViewAttribute
    Name="Department"
    PrecisionRule="true"
    EntityAttrName="Department"
    EntityUsage="PaymentHistory"
    AliasName="DEPARTMENT"
    LOVName="LOV_Department">
    <Properties>
      <SchemaBasedProperties>
        <CONTROLTYPE
          Value="choice"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="Year"
    PrecisionRule="true"
    EntityAttrName="Year"
    EntityUsage="PaymentHistory"
    AliasName="YEAR"
    LOVName="LOV_Year">
    <Properties>
      <SchemaBasedProperties>
        <CONTROLTYPE
          Value="choice"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="Month"
    PrecisionRule="true"
    EntityAttrName="Month"
    EntityUsage="PaymentHistory"
    AliasName="MONTH"/>
  <ViewAttribute
    Name="ContractAmount"
    PrecisionRule="true"
    EntityAttrName="ContractAmount"
    EntityUsage="PaymentHistory"
    AliasName="CONTRACT_AMOUNT"/>
  <ViewAttribute
    Name="PaymentAmount"
    PrecisionRule="true"
    EntityAttrName="PaymentAmount"
    EntityUsage="PaymentHistory"
    AliasName="PAYMENT_AMOUNT"/>
  <ViewAttribute
    Name="ModifiedBy"
    PrecisionRule="true"
    EntityAttrName="ModifiedBy"
    EntityUsage="PaymentHistory"
    AliasName="MODIFIED_BY"/>
  <ViewAttribute
    Name="ModifiedAt"
    PrecisionRule="true"
    EntityAttrName="ModifiedAt"
    EntityUsage="PaymentHistory"
    AliasName="MODIFIED_AT"/>
  <ViewAttribute
    Name="RowID"
    IsUpdateable="false"
    PrecisionRule="true"
    EntityAttrName="RowID"
    EntityUsage="PaymentHistory"
    AliasName="ROWID"/>
  <ViewCriteria
    Name="filterByYearRange"
    ViewObjectName="com.xy.scpms.model.vo.PaymentHistoryView"
    Conjunction="AND">
    <Properties>
      <CustomProperties>
        <Property
          Name="displayOperators"
          Value="InAdvancedMode"/>
        <Property
          Name="autoExecute"
          Value="false"/>
        <Property
          Name="allowConjunctionOverride"
          Value="true"/>
        <Property
          Name="showInList"
          Value="true"/>
        <Property
          Name="mode"
          Value="Basic"/>
      </CustomProperties>
    </Properties>
    <ViewCriteriaRow
      Name="PaymentHistoryViewCriteria_row_0"
      UpperColumns="1">
      <ViewCriteriaItem
        Name="Department"
        ViewAttribute="Department"
        Operator="="
        Conjunction="AND"
        Value=":dept"
        IsBindVarValue="true"
        Required="Optional"
        UpperColumns="1"/>
      <ViewCriteriaItemCompound
        ViewAttribute="Year">
        <ViewCriteria
          Name="PaymentHistoryViewCriteria_PaymentHistoryViewCriteria_row_0_Year_itemHolder"
          ViewObjectName="com.xy.scpms.model.vo.PaymentHistoryView"
          Conjunction="OR">
          <ViewCriteriaRow
            Name="PaymentHistoryViewCriteria_PaymentHistoryViewCriteria_row_0_Year_itemHolder_row_0"
            Conjunction="AND">
            <ViewCriteriaItem
              Name="Year"
              ViewAttribute="Year"
              Operator=">="
              Conjunction="AND"
              Value=":startYr"
              IsBindVarValue="true"
              Required="Optional"/>
          </ViewCriteriaRow>
          <ViewCriteriaRow
            Name="PaymentHistoryViewCriteria_PaymentHistoryViewCriteria_row_0_Year_itemHolder_row_1"
            Conjunction="AND">
            <ViewCriteriaItem
              Name="PaymentHistoryViewCriteria_PaymentHistoryViewCriteria_row_0_Year_PaymentHistoryViewCriteria_PaymentHistoryViewCriteria_row_0_Year_itemHolder_PaymentHistoryViewCriteria_PaymentHistoryViewCriteria_row_0_Year_itemHolder_row_1_Year"
              ViewAttribute="Year"
              Operator="&lt;="
              Conjunction="AND"
              Value=":endYr"
              IsBindVarValue="true"
              Required="Optional"/>
          </ViewCriteriaRow>
        </ViewCriteria>
      </ViewCriteriaItemCompound>
    </ViewCriteriaRow>
  </ViewCriteria>
  <ResourceBundle>
    <PropertiesBundle
      PropertiesFile="com.xy.scpms.model.ModelBundle"/>
  </ResourceBundle>
  <ClientInterface>
    <Method
      Name="getdept"
      MethodName="getdept">
      <Return
        Type="java.lang.String"/>
    </Method>
    <Method
      Name="getendYr"
      MethodName="getendYr">
      <Return
        Type="oracle.jbo.domain.Number"/>
    </Method>
    <Method
      Name="getstartYr"
      MethodName="getstartYr">
      <Return
        Type="oracle.jbo.domain.Number"/>
    </Method>
    <Method
      Name="queryByYrDept"
      MethodName="queryByYrDept">
      <Return
        Type="void"/>
      <Parameter
        Name="dept"
        Type="java.lang.String"/>
      <Parameter
        Name="start"
        Type="oracle.jbo.domain.Number"/>
      <Parameter
        Name="end"
        Type="oracle.jbo.domain.Number"/>
    </Method>
    <Method
      Name="clearRowSet"
      MethodName="clearRowSet">
      <Return
        Type="void"/>
    </Method>
  </ClientInterface>
</ViewObject>
