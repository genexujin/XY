<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE ViewObject SYSTEM "jbo_03_01.dtd">
<!---->
<ViewObject
  xmlns="http://xmlns.oracle.com/bc4j"
  Name="ShipDeliveryRpt"
  Version="11.1.2.60.17"
  BindingStyle="OracleName"
  CustomQuery="true"
  ComponentClass="com.xy.scpms.model.reports.ShipDeliveryRptImpl"
  PageIterMode="Full"
  UseGlueCode="false"
  ComponentInterface="com.xy.scpms.model.reports.common.ShipDeliveryRpt"
  ClientProxyName="com.xy.scpms.model.reports.client.ShipDeliveryRptClient">
  <DesignTime>
    <Attr Name="_codeGenFlag2" Value="Coll|VarAccess"/>
    <Attr Name="_isExpertMode" Value="true"/>
  </DesignTime>
  <Properties>
    <SchemaBasedProperties>
      <LABEL
        ResId="com.xy.scpms.model.reports.ShipDeliveryRpt_LABEL"/>
    </SchemaBasedProperties>
  </Properties>
  <Variable
    Name="dept"
    Kind="viewcriteria"
    Type="java.lang.String"/>
  <Variable
    Name="mgr"
    Kind="viewcriteria"
    Type="java.lang.String">
    <TransientExpression><![CDATA[adf.context.securityContext.userName]]></TransientExpression>
  </Variable>
  <Variable
    Name="startdate"
    Kind="viewcriteria"
    Type="oracle.jbo.domain.Date"/>
  <Variable
    Name="enddate"
    Kind="viewcriteria"
    Type="oracle.jbo.domain.Date"/>
  <SQLQuery><![CDATA[SELECT hd.contract_no,
  hd.project_name,
  ln.ship_mnft_no,
  ln.ship_name,
  ln.ship_owner,
  ln.ship_plant,
  ln.ship_broker,
  ln.ship_clsfct_society,
  ln.imo_no,
  ln.ship_no_internal ship_version,
  hd.ship_no_internal,
  hd.design_dept,
  hd.project_manager,
  hd.region_manager,
  ln.effective_date,
  ln.fg_completion_date,
  prjmgr.lastname prj_mgr_name,
  regmgr.lastname reg_mgr_name
FROM contract hd,
  contract_line ln,
  users prjmgr,
  users regmgr
WHERE hd.id    = ln.header_id
and hd.project_manager = prjmgr.username (+)
and hd.region_manager = regmgr.username(+)
AND hd.deleted ='N'
AND ln.deleted ='N'
AND ln.status !='未提交'
AND ln.status !='审核中'
AND ln.status !='已弃船']]></SQLQuery>
  <ViewAttribute
    Name="ContractNo"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Precision="50"
    Type="java.lang.String"
    ColumnType="VARCHAR2"
    AliasName="CONTRACT_NO"
    Expression="CONTRACT_NO"
    SQLType="VARCHAR">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="50"/>
    </DesignTime>
    <Properties>
      <SchemaBasedProperties>
        <LABEL
          ResId="com.xy.scpms.model.reports.ShipDeliveryRpt.ContractNo_LABEL"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="ProjectName"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Precision="200"
    Type="java.lang.String"
    ColumnType="VARCHAR2"
    AliasName="PROJECT_NAME"
    Expression="PROJECT_NAME"
    SQLType="VARCHAR">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="200"/>
    </DesignTime>
    <Properties>
      <SchemaBasedProperties>
        <LABEL
          ResId="com.xy.scpms.model.reports.ShipDeliveryRpt.ProjectName_LABEL"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="ShipMnftNo"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Precision="100"
    Type="java.lang.String"
    ColumnType="VARCHAR2"
    AliasName="SHIP_MNFT_NO"
    Expression="SHIP_MNFT_NO"
    SQLType="VARCHAR">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="100"/>
    </DesignTime>
    <Properties>
      <SchemaBasedProperties>
        <LABEL
          ResId="com.xy.scpms.model.reports.ShipDeliveryRpt.ShipMnftNo_LABEL"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="ShipName"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Precision="200"
    Type="java.lang.String"
    ColumnType="VARCHAR2"
    AliasName="SHIP_NAME"
    Expression="SHIP_NAME"
    SQLType="VARCHAR">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="200"/>
    </DesignTime>
    <Properties>
      <SchemaBasedProperties>
        <LABEL
          ResId="com.xy.scpms.model.reports.ShipDeliveryRpt.ShipName_LABEL"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="ShipOwner"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Precision="200"
    Type="java.lang.String"
    ColumnType="VARCHAR2"
    AliasName="SHIP_OWNER"
    Expression="SHIP_OWNER"
    SQLType="VARCHAR">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="200"/>
    </DesignTime>
    <Properties>
      <SchemaBasedProperties>
        <LABEL
          ResId="com.xy.scpms.model.reports.ShipDeliveryRpt.ShipOwner_LABEL"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="ShipPlant"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Precision="50"
    Type="java.lang.String"
    ColumnType="VARCHAR2"
    AliasName="SHIP_PLANT"
    Expression="SHIP_PLANT"
    SQLType="VARCHAR">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="50"/>
    </DesignTime>
    <Properties>
      <SchemaBasedProperties>
        <LABEL
          ResId="com.xy.scpms.model.reports.ShipDeliveryRpt.ShipPlant_LABEL"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="ShipBroker"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Precision="200"
    Type="java.lang.String"
    ColumnType="VARCHAR2"
    AliasName="SHIP_BROKER"
    Expression="SHIP_BROKER"
    SQLType="VARCHAR">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="200"/>
    </DesignTime>
    <Properties>
      <SchemaBasedProperties>
        <LABEL
          ResId="com.xy.scpms.model.reports.ShipDeliveryRpt.ShipBroker_LABEL"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="ShipClsfctSociety"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Precision="200"
    Type="java.lang.String"
    ColumnType="VARCHAR2"
    AliasName="SHIP_CLSFCT_SOCIETY"
    Expression="SHIP_CLSFCT_SOCIETY"
    SQLType="VARCHAR">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="200"/>
    </DesignTime>
    <Properties>
      <SchemaBasedProperties>
        <LABEL
          ResId="com.xy.scpms.model.reports.ShipDeliveryRpt.ShipClsfctSociety_LABEL"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="ImoNo"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Precision="200"
    Type="java.lang.String"
    ColumnType="VARCHAR2"
    AliasName="IMO_NO"
    Expression="IMO_NO"
    SQLType="VARCHAR">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="200"/>
    </DesignTime>
    <Properties>
      <SchemaBasedProperties>
        <LABEL
          ResId="com.xy.scpms.model.reports.ShipDeliveryRpt.ImoNo_LABEL"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="ShipVersion"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Precision="200"
    Type="java.lang.String"
    ColumnType="VARCHAR2"
    AliasName="SHIP_VERSION"
    Expression="SHIP_VERSION"
    SQLType="VARCHAR">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="200"/>
    </DesignTime>
    <Properties>
      <SchemaBasedProperties>
        <LABEL
          ResId="com.xy.scpms.model.reports.ShipDeliveryRpt.ShipVersion_LABEL"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="ShipNoInternal"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Precision="200"
    Type="java.lang.String"
    ColumnType="VARCHAR2"
    AliasName="SHIP_NO_INTERNAL"
    Expression="SHIP_NO_INTERNAL"
    SQLType="VARCHAR">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="200"/>
    </DesignTime>
    <Properties>
      <SchemaBasedProperties>
        <LABEL
          ResId="com.xy.scpms.model.reports.ShipDeliveryRpt.ShipNoInternal_LABEL"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="DesignDept"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Precision="30"
    Type="java.lang.String"
    ColumnType="VARCHAR2"
    AliasName="DESIGN_DEPT"
    Expression="DESIGN_DEPT"
    SQLType="VARCHAR">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="30"/>
    </DesignTime>
    <Properties>
      <SchemaBasedProperties>
        <LABEL
          ResId="com.xy.scpms.model.reports.ShipDeliveryRpt.DesignDept_LABEL"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="ProjectManager"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Precision="20"
    Type="java.lang.String"
    ColumnType="VARCHAR2"
    AliasName="PROJECT_MANAGER"
    Expression="PROJECT_MANAGER"
    SQLType="VARCHAR">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="20"/>
    </DesignTime>
  </ViewAttribute>
  <ViewAttribute
    Name="RegionManager"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Precision="20"
    Type="java.lang.String"
    ColumnType="VARCHAR2"
    AliasName="REGION_MANAGER"
    Expression="REGION_MANAGER"
    SQLType="VARCHAR">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="20"/>
    </DesignTime>
  </ViewAttribute>
  <ViewAttribute
    Name="EffectiveDate"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Type="oracle.jbo.domain.Date"
    ColumnType="DATE"
    AliasName="EFFECTIVE_DATE"
    Expression="EFFECTIVE_DATE"
    SQLType="DATE">
    <Properties>
      <SchemaBasedProperties>
        <LABEL
          ResId="com.xy.scpms.model.reports.ShipDeliveryRpt.EffectiveDate_LABEL"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="FgCompletionDate"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Type="oracle.jbo.domain.Date"
    ColumnType="DATE"
    AliasName="FG_COMPLETION_DATE"
    Expression="FG_COMPLETION_DATE"
    SQLType="DATE">
    <Properties>
      <SchemaBasedProperties>
        <LABEL
          ResId="com.xy.scpms.model.reports.ShipDeliveryRpt.FgCompletionDate_LABEL"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="PrjMgrName"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Precision="50"
    Type="java.lang.String"
    ColumnType="VARCHAR2"
    AliasName="PRJ_MGR_NAME"
    Expression="PRJ_MGR_NAME"
    SQLType="VARCHAR">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="50"/>
    </DesignTime>
    <Properties>
      <SchemaBasedProperties>
        <LABEL
          ResId="com.xy.scpms.model.reports.ShipDeliveryRpt.PrjMgrName_LABEL"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="RegMgrName"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Precision="50"
    Type="java.lang.String"
    ColumnType="VARCHAR2"
    AliasName="REG_MGR_NAME"
    Expression="REG_MGR_NAME"
    SQLType="VARCHAR">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="50"/>
    </DesignTime>
    <Properties>
      <SchemaBasedProperties>
        <LABEL
          ResId="com.xy.scpms.model.reports.ShipDeliveryRpt.RegMgrName_LABEL"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewCriteria
    Name="filterByDept"
    ViewObjectName="com.xy.scpms.model.reports.ShipDeliveryRpt"
    Conjunction="AND">
    <Properties>
      <CustomProperties>
        <Property
          Name="displayOperators"
          Value="InAdvancedMode"/>
        <Property
          Name="autoExecute"
          Value="false"/>
        <Property
          Name="allowConjunctionOverride"
          Value="true"/>
        <Property
          Name="showInList"
          Value="true"/>
        <Property
          Name="mode"
          Value="Basic"/>
      </CustomProperties>
    </Properties>
    <ViewCriteriaRow
      Name="ShipDeliveryRptCriteria_row_0"
      UpperColumns="1">
      <ViewCriteriaItem
        Name="DesignDept"
        ViewAttribute="DesignDept"
        Operator="="
        Conjunction="AND"
        Value=":dept"
        IsBindVarValue="true"
        Required="Optional"/>
    </ViewCriteriaRow>
  </ViewCriteria>
  <ViewCriteria
    Name="filterByMgr"
    ViewObjectName="com.xy.scpms.model.reports.ShipDeliveryRpt"
    Conjunction="AND">
    <Properties>
      <CustomProperties>
        <Property
          Name="displayOperators"
          Value="InAdvancedMode"/>
        <Property
          Name="autoExecute"
          Value="false"/>
        <Property
          Name="allowConjunctionOverride"
          Value="true"/>
        <Property
          Name="showInList"
          Value="true"/>
        <Property
          Name="mode"
          Value="Basic"/>
      </CustomProperties>
    </Properties>
    <ViewCriteriaRow
      Name="ShipDeliveryRptCriteria_row_0"
      UpperColumns="1">
      <ViewCriteriaItem
        Name="ProjectManager"
        ViewAttribute="ProjectManager"
        Operator="="
        Conjunction="AND"
        Value=":mgr"
        IsBindVarValue="true"
        Required="Optional"/>
      <ViewCriteriaItem
        Name="RegionManager"
        ViewAttribute="RegionManager"
        Operator="="
        Conjunction="OR"
        Value=":mgr"
        IsBindVarValue="true"
        Required="Optional"/>
    </ViewCriteriaRow>
  </ViewCriteria>
  <ViewCriteria
    Name="filterByRange"
    ViewObjectName="com.xy.scpms.model.reports.ShipDeliveryRpt"
    Conjunction="AND">
    <Properties>
      <CustomProperties>
        <Property
          Name="displayOperators"
          Value="InAdvancedMode"/>
        <Property
          Name="autoExecute"
          Value="false"/>
        <Property
          Name="allowConjunctionOverride"
          Value="true"/>
        <Property
          Name="showInList"
          Value="true"/>
        <Property
          Name="mode"
          Value="Basic"/>
      </CustomProperties>
    </Properties>
    <ViewCriteriaRow
      Name="ShipDeliveryRptCriteria_row_0"
      UpperColumns="1">
      <ViewCriteriaItem
        Name="FgCompletionDate"
        ViewAttribute="FgCompletionDate"
        Operator="BETWEEN"
        Conjunction="AND"
        Required="Optional">
        <ViewCriteriaItemValue
          Name="filterByRange_ShipDeliveryRptCriteria_row_0_FgCompletionDate_vcval0"
          Value=":startdate"
          IsBindVarValue="true"/>
        <ViewCriteriaItemValue
          Name="filterByRange_ShipDeliveryRptCriteria_row_0_FgCompletionDate_vcval1"
          Value=":enddate"
          IsBindVarValue="true"/>
      </ViewCriteriaItem>
    </ViewCriteriaRow>
  </ViewCriteria>
  <ResourceBundle>
    <PropertiesBundle
      PropertiesFile="com.xy.scpms.model.ModelBundle"/>
  </ResourceBundle>
  <ClientInterface>
    <Method
      Name="clearRowSet"
      MethodName="clearRowSet">
      <Return
        Type="void"/>
    </Method>
    <Method
      Name="runReport"
      MethodName="runReport">
      <Return
        Type="void"/>
      <Parameter
        Name="dept"
        Type="java.lang.String"/>
      <Parameter
        Name="start"
        Type="oracle.jbo.domain.Date"/>
      <Parameter
        Name="end"
        Type="oracle.jbo.domain.Date"/>
    </Method>
  </ClientInterface>
</ViewObject>
