<?xml version='1.0' encoding='UTF-8'?>
<jsp:root xmlns:jsp="http://java.sun.com/JSP/Page" version="2.1" xmlns:f="http://java.sun.com/jsf/core"
          xmlns:af="http://xmlns.oracle.com/adf/faces/rich" xmlns:dvt="http://xmlns.oracle.com/dss/adf/faces">
    <jsp:directive.page contentType="text/html;charset=UTF-8"/>
    <f:view>
        <af:document id="d1" title="合同详情">
            <af:resource type="javascript">
              function disableContextMenu() {
                  document.oncontextmenu = function () {
                      return false
                  };

              }
            </af:resource>
            <af:messages id="m1"/>
            <af:form id="f1">
                <af:panelSplitter id="ps1" orientation="vertical" splitterPosition="80">
                    <f:facet name="first">
                        <af:panelBox text="合同详情" id="pb1" showDisclosure="false" background="medium"
                                     clientComponent="true">
                            <f:facet name="toolbar"/>
                            <af:toolbox id="t5">
                                <af:outputText value="可进行以下操作：" id="ot70"
                                               inlineStyle="font-size:small; font-weight:bold;"/>
                                <af:toolbar id="t6">
                                    <af:group id="g1" rendered="#{pageFlowScope.isSearch}">
                                        <af:commandToolbarButton text="变更合同信息" id="ctb1"
                                                                 icon="/images/icons/update_ena.png"
                                                                 action="#{BrowseBean.updateContract}"/>
                                        <af:commandToolbarButton id="ctb2" text="申请终止合同"
                                                                 icon="/images/icons/terminate.png"
                                                                 action="#{viewScope.BrowseBean.applyForTermination}"/>
                                        <af:commandToolbarButton text="申请暂停合同" id="ctb3" icon="/images/icons/pause.png"
                                                                 action="#{viewScope.BrowseBean.applyForSuspension}"
                                                                 binding="#{BrowseBean.popupPostionButton}"/>
                                        <af:commandToolbarButton id="ctb4" text="返回搜索页面"
                                                                 icon="/images/icons/search_sourcepath.png"
                                                                 action="search"/>
                                    </af:group>
                                    <af:spacer width="10" height="10" id="s11"/>
                                    <af:group id="g2" rendered="#{not pageFlowScope.isSearch}">
                                        <af:commandToolbarButton text="审核通过" id="ctb8" icon="/images/icons/run.png"/>
                                        <af:commandToolbarButton text="审批不通过" id="ctb7"
                                                                 icon="/images/icons/stopserver.png"/>
                                        <af:commandToolbarButton text="返回任务列表" id="ctb6" icon="/images/icons/undo.png"/>
                                    </af:group>
                                    <af:commandToolbarButton id="ctb5" text="返回主页面" icon="/images/icons/home.gif"
                                                             action="return"
                                                             actionListener="#{bindings.Rollback.execute}"
                                                             immediate="true"/>
                                    <af:spacer width="10" height="30" id="s19"/>
                                    <af:outputText value="当前合同号： #{bindings.ContractNo.inputValue}" id="ot80"
                                                   inlineStyle="color:Blue; font-size:small;"/>
                                    <af:spacer width="10" height="10" id="s18"/>
                                    <af:outputText value="当前项目名称： #{bindings.ProjectName.inputValue}" inlineStyle="color:Blue; font-size:small;" id="ot83"/>
                                </af:toolbar>
                            </af:toolbox>
                        </af:panelBox>
                    </f:facet>
                    <f:facet name="second">
                        <af:panelBox text="PanelBox1" id="pb2" showHeader="never" background="medium">
                            <f:facet name="toolbar"/>
                            <af:panelTabbed id="pt1" styleClass="AFStretchWidth">
                                <af:showDetailItem text="合同基本信息" id="sdi1">
                                    <af:panelHeader text="基本信息" id="ph1" messageType="confirmation"
                                                    styleClass="AFStretchWidth">
                                        <f:facet name="context"/>
                                        <f:facet name="menuBar"/>
                                        <f:facet name="toolbar"/>
                                        <f:facet name="legend"/>
                                        <f:facet name="info"/>
                                        <af:separator id="s6"/>
                                        <af:panelFormLayout id="pfl1" rows="3" maxColumns="4" labelWidth="100">
                                            <af:panelLabelAndMessage label="#{bindings.ContractNo.hints.label}"
                                                                     id="plam9">
                                                <af:outputText value="#{bindings.ContractNo.inputValue}" id="ot15"/>
                                            </af:panelLabelAndMessage>
                                            <af:panelLabelAndMessage label="#{bindings.ProjectName.hints.label}"
                                                                     id="plam10">
                                                <af:outputText value="#{bindings.ProjectName.inputValue}" id="ot1"/>
                                            </af:panelLabelAndMessage>
                                            <af:panelLabelAndMessage label="#{bindings.ContractEntity.hints.label}"
                                                                     id="plam3">
                                                <af:outputText value="#{bindings.ContractEntity.inputValue}" id="ot12"/>
                                            </af:panelLabelAndMessage>
                                            <af:panelLabelAndMessage label="#{bindings.DesignDept.hints.label}"
                                                                     id="plam1">
                                                <af:outputText value="#{bindings.DesignDept.inputValue}" id="ot13"/>
                                            </af:panelLabelAndMessage>
                                            <af:panelLabelAndMessage label="#{bindings.PrjFullName.hints.label}"
                                                                     id="plam7">
                                                <af:outputText value="#{bindings.PrjFullName.inputValue}" id="ot21"/>
                                            </af:panelLabelAndMessage>
                                            <af:panelLabelAndMessage label="#{bindings.DesignPhase.hints.label}"
                                                                     id="plam20">
                                                <af:outputText value="#{bindings.DesignPhase.inputValue}" id="ot3"/>
                                            </af:panelLabelAndMessage>
                                            <af:panelLabelAndMessage label="#{bindings.FirstDesignFee.hints.label}"
                                                                     id="plam8">
                                                <af:outputText value="#{bindings.FirstDesignFee.inputValue}" id="ot22">
                                                    <af:convertNumber groupingUsed="false"
                                                                      pattern="#{bindings.FirstDesignFee.format}"
                                                                      maxFractionDigits="7"/>
                                                </af:outputText>
                                            </af:panelLabelAndMessage>
                                            <af:panelLabelAndMessage label="#{bindings.RegFullName.hints.label}"
                                                                     id="plam17">
                                                <af:outputText value="#{bindings.RegFullName.inputValue}" id="ot16"/>
                                            </af:panelLabelAndMessage>
                                            <af:panelLabelAndMessage label="#{bindings.ShipModel.hints.label}"
                                                                     id="plam4">
                                                <af:outputText value="#{bindings.ShipModel.inputValue}" id="ot17"/>
                                            </af:panelLabelAndMessage>
                                            <af:panelLabelAndMessage label="#{bindings.ShipNoInternal.hints.label}"
                                                                     id="plam19">
                                                <af:outputText value="#{bindings.ShipNoInternal.inputValue}" id="ot11"/>
                                            </af:panelLabelAndMessage>
                                            <af:panelLabelAndMessage label="#{bindings.ContractType.hints.label}"
                                                                     id="plam11">
                                                <af:outputText value="#{bindings.ContractType.inputValue}" id="ot19"/>
                                            </af:panelLabelAndMessage>
                                        </af:panelFormLayout>
                                    </af:panelHeader>
                                    <af:separator id="s2"/>
                                    <af:panelHeader text="客户信息" id="ph2" messageType="confirmation"
                                                    styleClass="AFStretchWidth">
                                        <f:facet name="context"/>
                                        <f:facet name="menuBar"/>
                                        <f:facet name="toolbar"/>
                                        <f:facet name="legend"/>
                                        <f:facet name="info"/>
                                        <af:separator id="s3"/>
                                        <af:panelFormLayout id="pfl2">
                                            <af:panelLabelAndMessage label="#{bindings.AuthType.hints.label}"
                                                                     id="plam5">
                                                <af:outputText value="#{bindings.AuthType.inputValue}" id="ot6"/>
                                            </af:panelLabelAndMessage>
                                            <af:panelLabelAndMessage label="#{bindings.AuthorizerType.hints.label}"
                                                                     id="plam12">
                                                <af:outputText value="#{bindings.AuthorizerType.inputValue}" id="ot5"/>
                                            </af:panelLabelAndMessage>
                                            <af:panelLabelAndMessage label="#{bindings.AuthName.hints.label}"
                                                                     id="plam2">
                                                <af:outputText value="#{bindings.AuthName.inputValue}" id="ot4"/>
                                                <af:spacer width="10" height="10" id="s12"/>
                                                <af:commandImageLink id="cil1" icon="/images/icons/find.png"
                                                                     action="#{BrowseBean.checkCustomer}"
                                                                     useWindow="true" windowEmbedStyle="window"
                                                                     windowModalityType="modeless" windowWidth="250"
                                                                     returnListener="#{HeaderBean.onSelectCustomerReturn}"
                                                                     immediate="true" partialSubmit="true"
                                                                     disabled="#{bindings.AuthType.inputValue eq 0}"
                                                                     windowHeight="350"/>
                                            </af:panelLabelAndMessage>
                                            <af:panelLabelAndMessage label="#{bindings.CustomerContactName.hints.label}"
                                                                     id="plam6">
                                                <af:outputText value="#{bindings.CustomerContactName.inputValue}"
                                                               id="ot7"/>
                                                <af:spacer width="10" height="10" id="s13"/>
                                                <af:commandImageLink id="cil2" icon="/images/icons/find.png"
                                                                     action="#{BrowseBean.checkContact}"
                                                                     useWindow="true" windowEmbedStyle="inlineDocument"
                                                                     windowModalityType="applicationModal"
                                                                     windowHeight="300" windowWidth="250"
                                                                     returnListener="#{HeaderBean.onSelectCustomerReturn}"
                                                                     immediate="true" partialSubmit="true"
                                                                     disabled="#{bindings.AuthType.inputValue eq 0}"/>
                                            </af:panelLabelAndMessage>
                                        </af:panelFormLayout>
                                        <af:separator id="s1"/>
                                    </af:panelHeader>
                                    <af:panelHeader text="其他信息" id="ph3" messageType="confirmation"
                                                    styleClass="AFStretchWidth">
                                        <f:facet name="context"/>
                                        <f:facet name="menuBar"/>
                                        <f:facet name="toolbar"/>
                                        <f:facet name="legend"/>
                                        <f:facet name="info"/>
                                        <af:separator id="s4"/>
                                        <af:panelFormLayout id="pfl3" rows="3">
                                            <af:panelLabelAndMessage label="#{bindings.Memo.hints.label}" id="plam14">
                                                <af:outputText value="#{bindings.Memo.inputValue}" id="ot20"/>
                                            </af:panelLabelAndMessage>
                                            <af:panelLabelAndMessage label="#{bindings.CreatedAt.hints.label}"
                                                                     id="plam13">
                                                <af:outputText value="#{bindings.CreatedAt.inputValue}" id="ot14">
                                                    <af:convertDateTime pattern="#{bindings.CreatedAt.format}"/>
                                                </af:outputText>
                                            </af:panelLabelAndMessage>
                                            <af:panelLabelAndMessage label="#{bindings.CreatorFullName.hints.label}"
                                                                     id="plam15">
                                                <af:outputText value="#{bindings.CreatorFullName.inputValue}" id="ot8"/>
                                            </af:panelLabelAndMessage>
                                            <af:panelLabelAndMessage label="#{bindings.Status.hints.label}" id="plam21">
                                                <af:outputText value="#{bindings.Status.inputValue}" id="ot18"/>
                                            </af:panelLabelAndMessage>
                                            <af:panelLabelAndMessage label="#{bindings.TotalAmount.hints.label}"
                                                                     id="plam18">
                                                <af:outputText value="#{bindings.TotalAmount.inputValue}" id="ot24">
                                                    <af:convertNumber groupingUsed="false"
                                                                      pattern="#{bindings.TotalAmount.format}"
                                                                      maxFractionDigits="7"/>
                                                </af:outputText>
                                            </af:panelLabelAndMessage>
                                            <af:panelLabelAndMessage label="#{bindings.UnitWeight.hints.label}"
                                                                     id="plam16">
                                                <af:outputText value="#{bindings.UnitWeight.inputValue}" id="ot34">
                                                    <af:convertNumber groupingUsed="false"
                                                                      pattern="#{bindings.UnitWeight.format}"
                                                                      maxFractionDigits="7"/>
                                                </af:outputText>
                                            </af:panelLabelAndMessage>
                                        </af:panelFormLayout>
                                    </af:panelHeader>
                                    <af:separator id="s5"/>
                                </af:showDetailItem>
                                <af:showDetailItem id="sdi2" text="合同详细信息" stretchChildren="first">
                                    <af:panelStretchLayout id="psl1" topHeight="00px" bottomHeight="250px"
                                                           endWidth="0px" startWidth="0px">
                                        <f:facet name="bottom">
                                            <af:panelTabbed id="pt2">
                                                <af:showDetailItem id="sdi5" stretchChildren="first" text="收款节点">
                                                    <af:panelHeader text="收款节点" id="ph5" messageType="confirmation">
                                                        <f:facet name="context"/>
                                                        <f:facet name="menuBar"/>
                                                        <f:facet name="toolbar"/>
                                                        <f:facet name="legend"/>
                                                        <f:facet name="info"/>
                                                        <af:panelCollection id="pc2">
                                                            <f:facet name="menus"/>
                                                            <f:facet name="toolbar">
                                                                <af:toolbar id="t8">
                                                                    <af:commandToolbarButton id="ctb10" text="保存"
                                                                                             icon="/images/icons/filesave.png"
                                                                                             rendered="#{securityContext.userInRole['contractor']}"
                                                                                             actionListener="#{BrowseBean.save}"/>
                                                                    <af:commandToolbarButton text="申请开票" id="ctb11"
                                                                                             icon="/images/icons/compare.png"
                                                                                             actionListener="#{BrowseBean.checkInvReqAvailability}"/>
                                                                </af:toolbar>
                                                            </f:facet>
                                                            <f:facet name="statusbar"/>
                                                            <af:table value="#{bindings.PaymentOfShip.collectionModel}"
                                                                      var="row"
                                                                      rows="#{bindings.PaymentOfShip.rangeSize}"
                                                                      emptyText="#{bindings.PaymentOfShip.viewable ? '暂无数据。' : 'Access Denied.'}"
                                                                      fetchSize="#{bindings.PaymentOfShip.rangeSize}"
                                                                      rowBandingInterval="0"
                                                                      selectedRowKeys="#{bindings.PaymentOfShip.collectionModel.selectedRow}"
                                                                      selectionListener="#{bindings.PaymentOfShip.collectionModel.makeCurrent}"
                                                                      rowSelection="single" id="t1"
                                                                      partialTriggers=":::pc4:t3"
                                                                      binding="#{BrowseBean.paymentNodesTable}">
                                                                <af:column sortProperty="#{bindings.PaymentOfShip.hints.PaymentName.name}"
                                                                           sortable="true"
                                                                           headerText="#{bindings.PaymentOfShip.hints.PaymentName.label}"
                                                                           id="c18">
                                                                    <af:outputText value="#{row.PaymentName}"
                                                                                   id="ot42"/>
                                                                </af:column>
                                                                <af:column sortProperty="#{bindings.PaymentOfShip.hints.PaymentPlanInvoiceDate.name}"
                                                                           sortable="true"
                                                                           headerText="#{bindings.PaymentOfShip.hints.PaymentPlanInvoiceDate.label}"
                                                                           id="c19">
                                                                    <af:outputText value="#{row.PaymentPlanInvoiceDate}"
                                                                                   id="ot43">
                                                                        <af:convertDateTime pattern="#{bindings.PaymentOfShip.hints.PaymentPlanInvoiceDate.format}"/>
                                                                    </af:outputText>
                                                                </af:column>
                                                                <af:column sortProperty="#{bindings.PaymentOfShip.hints.PaymentPlanAmount.name}"
                                                                           sortable="true"
                                                                           headerText="#{bindings.PaymentOfShip.hints.PaymentPlanAmount.label}"
                                                                           id="c20">
                                                                    <af:outputText value="#{row.PaymentPlanAmount}"
                                                                                   id="ot44">
                                                                        <af:convertNumber groupingUsed="false"
                                                                                          pattern="#{bindings.PaymentOfShip.hints.PaymentPlanAmount.format}"
                                                                                          maxFractionDigits="7"/>
                                                                    </af:outputText>
                                                                </af:column>
                                                                <af:column sortProperty="#{bindings.PaymentOfShip.hints.InvoiceDate.name}"
                                                                           sortable="true"
                                                                           headerText="#{bindings.PaymentOfShip.hints.InvoiceDate.label}"
                                                                           id="c22">
                                                                    <af:outputText value="#{row.InvoiceDate}" id="ot46">
                                                                        <af:convertDateTime pattern="#{bindings.PaymentOfShip.hints.InvoiceDate.format}"/>
                                                                    </af:outputText>
                                                                </af:column>
                                                                <af:column sortProperty="#{bindings.PaymentOfShip.hints.InvoiceAmount.name}"
                                                                           sortable="true"
                                                                           headerText="#{bindings.PaymentOfShip.hints.InvoiceAmount.label}"
                                                                           id="c38">
                                                                    <af:outputText value="#{row.InvoiceAmount}"
                                                                                   id="ot52">
                                                                        <af:convertNumber groupingUsed="false"
                                                                                          pattern="#{bindings.PaymentOfShip.hints.InvoiceAmount.format}"
                                                                                          maxFractionDigits="7"/>
                                                                    </af:outputText>
                                                                </af:column>
                                                                <af:column sortProperty="#{bindings.PaymentOfShip.hints.InvoiceNumber.name}"
                                                                           sortable="true"
                                                                           headerText="#{bindings.PaymentOfShip.hints.InvoiceNumber.label}"
                                                                           id="c43">
                                                                    <af:outputText value="#{row.InvoiceNumber}"
                                                                                   id="ot57"/>
                                                                </af:column>
                                                                <af:column sortProperty="#{bindings.PaymentOfShip.hints.PaymentPlanDate.name}"
                                                                           sortable="true"
                                                                           headerText="#{bindings.PaymentOfShip.hints.PaymentPlanDate.label}"
                                                                           id="c41">
                                                                    <af:outputText value="#{row.PaymentPlanDate}"
                                                                                   id="ot55">
                                                                        <af:convertDateTime pattern="#{bindings.PaymentOfShip.hints.PaymentPlanDate.format}"/>
                                                                    </af:outputText>
                                                                </af:column>
                                                                <af:column sortProperty="#{bindings.PaymentOfShip.hints.TotalPayment.name}"
                                                                           sortable="true"
                                                                           headerText="#{bindings.PaymentOfShip.hints.TotalPayment.label}"
                                                                           id="c39">
                                                                    <af:inputText value="#{row.bindings.TotalPayment.inputValue}"
                                                                                  label="#{bindings.PaymentOfShip.hints.TotalPayment.label}"
                                                                                  required="#{bindings.PaymentOfShip.hints.TotalPayment.mandatory}"
                                                                                  columns="#{bindings.PaymentOfShip.hints.TotalPayment.displayWidth}"
                                                                                  maximumLength="#{bindings.PaymentOfShip.hints.TotalPayment.precision}"
                                                                                  shortDesc="#{bindings.PaymentOfShip.hints.TotalPayment.tooltip}"
                                                                                  id="it6"
                                                                                  readOnly="#{not securityContext.userInRole['contractor']}">
                                                                        <f:validator binding="#{row.bindings.TotalPayment.validator}"/>
                                                                        <af:convertNumber groupingUsed="false"
                                                                                          pattern="#{bindings.PaymentOfShip.hints.TotalPayment.format}"
                                                                                          maxFractionDigits="7"/>
                                                                    </af:inputText>
                                                                </af:column>
                                                                <af:column sortProperty="#{bindings.PaymentOfShip.hints.PaymentDate.name}"
                                                                           sortable="false"
                                                                           headerText="#{bindings.PaymentOfShip.hints.PaymentDate.label}"
                                                                           id="c30">
                                                                    <af:inputDate value="#{row.bindings.PaymentDate.inputValue}"
                                                                                  label="#{bindings.PaymentOfShip.hints.PaymentDate.label}"
                                                                                  required="#{bindings.PaymentOfShip.hints.PaymentDate.mandatory}"
                                                                                  columns="#{bindings.PaymentOfShip.hints.PaymentDate.displayWidth}"
                                                                                  shortDesc="#{bindings.PaymentOfShip.hints.PaymentDate.tooltip}"
                                                                                  id="id12"
                                                                                  readOnly="#{not securityContext.userInRole['contractor']}">
                                                                        <f:validator binding="#{row.bindings.PaymentDate.validator}"/>
                                                                        <af:convertDateTime pattern="#{bindings.PaymentOfShip.hints.PaymentDate.format}"/>
                                                                    </af:inputDate>
                                                                </af:column>
                                                                <af:column sortProperty="#{bindings.PaymentOfShip.hints.Status.name}"
                                                                           sortable="true"
                                                                           headerText="#{bindings.PaymentOfShip.hints.Status.label}"
                                                                           id="c21">
                                                                    <af:selectOneChoice value="#{row.bindings.Status.inputValue}"
                                                                                        label="#{row.bindings.Status.label}"
                                                                                        required="#{bindings.PaymentOfShip.hints.Status.mandatory}"
                                                                                        shortDesc="#{bindings.PaymentOfShip.hints.Status.tooltip}"
                                                                                        id="soc8"
                                                                                        readOnly="#{not securityContext.userInRole['contractor']}">
                                                                        <f:selectItems value="#{row.bindings.Status.items}"
                                                                                       id="si8"/>
                                                                    </af:selectOneChoice>
                                                                </af:column>
                                                                <af:column sortProperty="#{bindings.PaymentOfShip.hints.Variance.name}"
                                                                           sortable="true"
                                                                           headerText="#{bindings.PaymentOfShip.hints.Variance.label}"
                                                                           id="c40">
                                                                    <af:inputText value="#{row.bindings.Variance.inputValue}"
                                                                                  label="#{bindings.PaymentOfShip.hints.Variance.label}"
                                                                                  required="#{bindings.PaymentOfShip.hints.Variance.mandatory}"
                                                                                  columns="#{bindings.PaymentOfShip.hints.Variance.displayWidth}"
                                                                                  maximumLength="#{bindings.PaymentOfShip.hints.Variance.precision}"
                                                                                  shortDesc="#{bindings.PaymentOfShip.hints.Variance.tooltip}"
                                                                                  id="it5"
                                                                                  readOnly="#{not securityContext.userInRole['contractor']}">
                                                                        <f:validator binding="#{row.bindings.Variance.validator}"/>
                                                                    </af:inputText>
                                                                </af:column>
                                                                <af:column sortProperty="#{bindings.PaymentOfShip.hints.Ems.name}"
                                                                           sortable="false"
                                                                           headerText="#{bindings.PaymentOfShip.hints.Ems.label}"
                                                                           id="c44">
                                                                    <af:inputText value="#{row.bindings.Ems.inputValue}"
                                                                                  label="#{bindings.PaymentOfShip.hints.Ems.label}"
                                                                                  required="#{bindings.PaymentOfShip.hints.Ems.mandatory}"
                                                                                  columns="#{bindings.PaymentOfShip.hints.Ems.displayWidth}"
                                                                                  maximumLength="#{bindings.PaymentOfShip.hints.Ems.precision}"
                                                                                  shortDesc="#{bindings.PaymentOfShip.hints.Ems.tooltip}"
                                                                                  id="it8"
                                                                                  readOnly="#{not securityContext.userInRole['contractor']}">
                                                                        <f:validator binding="#{row.bindings.Ems.validator}"/>
                                                                    </af:inputText>
                                                                </af:column>
                                                                <af:column sortProperty="#{bindings.PaymentOfShip.hints.Memo.name}"
                                                                           sortable="true"
                                                                           headerText="#{bindings.PaymentOfShip.hints.Memo.label}"
                                                                           id="c42">
                                                                    <af:inputText value="#{row.bindings.Memo.inputValue}"
                                                                                  label="#{bindings.PaymentOfShip.hints.Memo.label}"
                                                                                  required="#{bindings.PaymentOfShip.hints.Memo.mandatory}"
                                                                                  columns="#{bindings.PaymentOfShip.hints.Memo.displayWidth}"
                                                                                  maximumLength="#{bindings.PaymentOfShip.hints.Memo.precision}"
                                                                                  shortDesc="#{bindings.PaymentOfShip.hints.Memo.tooltip}"
                                                                                  id="it7"
                                                                                  disabled="#{not securityContext.userInRole['contractor']}">
                                                                        <f:validator binding="#{row.bindings.Memo.validator}"/>
                                                                        <af:showPopupBehavior popupId="::p7"
                                                                                              triggerType="dblClick"
                                                                                              align="endAfter"/>
                                                                    </af:inputText>
                                                                </af:column>
                                                            </af:table>
                                                            <af:popup childCreation="deferred" autoCancel="disabled"
                                                                      id="p7" binding="#{BrowseBean.memoPopup}"
                                                                      contentDelivery="lazyUncached">
                                                                <af:panelWindow id="pw5" resize="on"
                                                                                closeIconVisible="#{not securityContext.userInRole['contractor']}"
                                                                                stretchChildren="none" modal="true"
                                                                                contentWidth="350" contentHeight="100">
                                                                    <af:panelGroupLayout id="pgl12">
                                                                        <af:inputText value="#{bindings.Memo2.inputValue}"
                                                                                      label="#{bindings.Memo2.hints.label}"
                                                                                      required="#{bindings.Memo2.hints.mandatory}"
                                                                                      columns="50"
                                                                                      maximumLength="#{bindings.Memo2.hints.precision}"
                                                                                      shortDesc="#{bindings.Memo2.hints.tooltip}"
                                                                                      id="it33" rows="4"
                                                                                      readOnly="#{not securityContext.userInRole['contractor']}">
                                                                            <f:validator binding="#{bindings.Memo2.validator}"/>
                                                                        </af:inputText>
                                                                        <af:commandButton text="确定" id="cb4"
                                                                                          action="#{BrowseBean.closeMemoPopup}"
                                                                                          icon="/images/icons/check.png"
                                                                                          rendered="#{securityContext.userInRole['contractor']}"/>
                                                                    </af:panelGroupLayout>
                                                                </af:panelWindow>
                                                            </af:popup>
                                                            <af:popup childCreation="deferred" autoCancel="disabled"
                                                                      id="p4">
                                                                <af:noteWindow id="nw1">
                                                                    <af:region value="#{bindings.customercontactbtf1.regionModel}"
                                                                               id="r1"/>
                                                                </af:noteWindow>
                                                            </af:popup>
                                                        </af:panelCollection>
                                                    </af:panelHeader>
                                                </af:showDetailItem>
                                                <af:showDetailItem id="sdi6" text="四技合同"
                                                                   rendered="#{securityContext.userInRole['contractor']}">
                                                    <af:panelHeader text="四技合同" id="ph9" messageType="info">
                                                        <f:facet name="context"/>
                                                        <f:facet name="menuBar"/>
                                                        <f:facet name="toolbar"/>
                                                        <f:facet name="legend"/>
                                                        <f:facet name="info"/>
                                                        <af:panelFormLayout id="pfl5" rows="5" maxColumns="2"
                                                                            partialTriggers="pc4:t3">
                                                            <af:inputText value="#{bindings.ContractNo1.inputValue}"
                                                                          label="#{bindings.ContractNo1.hints.label}"
                                                                          required="#{bindings.ContractNo1.hints.mandatory}"
                                                                          columns="#{bindings.ContractNo1.hints.displayWidth}"
                                                                          maximumLength="#{bindings.ContractNo1.hints.precision}"
                                                                          shortDesc="#{bindings.ContractNo1.hints.tooltip}"
                                                                          id="it1"
                                                                          readOnly="#{not securityContext.userInRole['contractor']}">
                                                                <f:validator binding="#{bindings.ContractNo1.validator}"/>
                                                            </af:inputText>
                                                            <af:inputText value="#{bindings.Amount.inputValue}"
                                                                          label="#{bindings.Amount.hints.label}"
                                                                          required="#{bindings.Amount.hints.mandatory}"
                                                                          columns="#{bindings.Amount.hints.displayWidth}"
                                                                          maximumLength="#{bindings.Amount.hints.precision}"
                                                                          shortDesc="#{bindings.Amount.hints.tooltip}"
                                                                          id="it2"
                                                                          readOnly="#{not securityContext.userInRole['contractor']}">
                                                                <f:validator binding="#{bindings.Amount.validator}"/>
                                                                <af:convertNumber groupingUsed="false"
                                                                                  pattern="#{bindings.Amount.format}"
                                                                                  maxFractionDigits="7"/>
                                                            </af:inputText>
                                                            <af:selectOneChoice value="#{bindings.Type.inputValue}"
                                                                                label="#{bindings.Type.label}"
                                                                                required="#{bindings.Type.hints.mandatory}"
                                                                                shortDesc="#{bindings.Type.hints.tooltip}"
                                                                                id="soc7" readOnly="true">
                                                                <f:selectItems value="#{bindings.Type.items}" id="si7"/>
                                                            </af:selectOneChoice>
                                                            <af:inputText value="#{bindings.RegNo.inputValue}"
                                                                          label="#{bindings.RegNo.hints.label}"
                                                                          required="#{bindings.RegNo.hints.mandatory}"
                                                                          columns="#{bindings.RegNo.hints.displayWidth}"
                                                                          maximumLength="#{bindings.RegNo.hints.precision}"
                                                                          shortDesc="#{bindings.RegNo.hints.tooltip}"
                                                                          id="it3"
                                                                          readOnly="#{not securityContext.userInRole['contractor']}">
                                                                <f:validator binding="#{bindings.RegNo.validator}"/>
                                                            </af:inputText>
                                                            <af:inputDate value="#{bindings.SentDate.inputValue}"
                                                                          label="#{bindings.SentDate.hints.label}"
                                                                          required="#{bindings.SentDate.hints.mandatory}"
                                                                          columns="#{bindings.SentDate.hints.displayWidth}"
                                                                          shortDesc="#{bindings.SentDate.hints.tooltip}"
                                                                          id="id8"
                                                                          readOnly="#{not securityContext.userInRole['contractor']}">
                                                                <f:validator binding="#{bindings.SentDate.validator}"/>
                                                                <af:convertDateTime pattern="#{bindings.SentDate.format}"/>
                                                            </af:inputDate>
                                                            <af:inputDate value="#{bindings.RcvDate.inputValue}"
                                                                          label="#{bindings.RcvDate.hints.label}"
                                                                          required="#{bindings.RcvDate.hints.mandatory}"
                                                                          columns="#{bindings.RcvDate.hints.displayWidth}"
                                                                          shortDesc="#{bindings.RcvDate.hints.tooltip}"
                                                                          id="id9"
                                                                          readOnly="#{not securityContext.userInRole['contractor']}">
                                                                <f:validator binding="#{bindings.RcvDate.validator}"/>
                                                                <af:convertDateTime pattern="#{bindings.RcvDate.format}"/>
                                                            </af:inputDate>
                                                            <af:inputDate value="#{bindings.SubmitDate.inputValue}"
                                                                          label="#{bindings.SubmitDate.hints.label}"
                                                                          required="#{bindings.SubmitDate.hints.mandatory}"
                                                                          columns="#{bindings.SubmitDate.hints.displayWidth}"
                                                                          shortDesc="#{bindings.SubmitDate.hints.tooltip}"
                                                                          id="id10"
                                                                          readOnly="#{not securityContext.userInRole['contractor']}">
                                                                <f:validator binding="#{bindings.SubmitDate.validator}"/>
                                                                <af:convertDateTime pattern="#{bindings.SubmitDate.format}"/>
                                                            </af:inputDate>
                                                            <af:inputDate value="#{bindings.RegDate.inputValue}"
                                                                          label="#{bindings.RegDate.hints.label}"
                                                                          required="#{bindings.RegDate.hints.mandatory}"
                                                                          columns="#{bindings.RegDate.hints.displayWidth}"
                                                                          shortDesc="#{bindings.RegDate.hints.tooltip}"
                                                                          id="id11"
                                                                          readOnly="#{not securityContext.userInRole['contractor']}">
                                                                <f:validator binding="#{bindings.RegDate.validator}"/>
                                                                <af:convertDateTime pattern="#{bindings.RegDate.format}"/>
                                                            </af:inputDate>
                                                            <af:inputText value="#{bindings.Memo1.inputValue}"
                                                                          label="#{bindings.Memo1.hints.label}"
                                                                          required="#{bindings.Memo1.hints.mandatory}"
                                                                          columns="#{bindings.Memo1.hints.displayWidth}"
                                                                          maximumLength="#{bindings.Memo1.hints.precision}"
                                                                          shortDesc="#{bindings.Memo1.hints.tooltip}"
                                                                          id="it4"
                                                                          readOnly="#{not securityContext.userInRole['contractor']}">
                                                                <f:validator binding="#{bindings.Memo1.validator}"/>
                                                            </af:inputText>
                                                            <f:facet name="footer">
                                                                <af:toolbar id="t9">
                                                                    <af:commandToolbarButton id="ctb12" text="保存"
                                                                                             icon="/images/icons/filesave.png"
                                                                                             rendered="#{securityContext.userInRole['contractor']}"
                                                                                             actionListener="#{bindings.Commit.execute}"
                                                                                             disabled="#{empty bindings.ContractNo1.inputValue}"
                                                                                             action="#{BrowseBean.saveFourTech}"/>
                                                                </af:toolbar>
                                                            </f:facet>
                                                        </af:panelFormLayout>
                                                    </af:panelHeader>
                                                </af:showDetailItem>
                                            </af:panelTabbed>
                                        </f:facet>
                                        <f:facet name="center">
                                            <af:panelHeader text="船号" id="ph4" messageType="confirmation">
                                                <f:facet name="context"/>
                                                <f:facet name="menuBar"/>
                                                <f:facet name="toolbar"/>
                                                <f:facet name="legend"/>
                                                <f:facet name="info"/>
                                                <af:panelCollection id="pc4">
                                                    <f:facet name="menus"/>
                                                    <f:facet name="toolbar">
                                                        <af:toolbar id="t7"/>
                                                    </f:facet>
                                                    <f:facet name="statusbar">
                                                        <af:panelGroupLayout id="pgl2" layout="horizontal"
                                                                             halign="center" valign="bottom"
                                                                             inlineStyle="width:200px;">
                                                            <af:outputText id="ot53"
                                                                           inlineStyle="font-size:120%; font-weight:bold; text-align:left;"
                                                                           value="本合同共计船只#{bindings.ShipOfContract.estimatedRowCount}艘"/>
                                                        </af:panelGroupLayout>
                                                    </f:facet>
                                                    <af:table value="#{bindings.ShipOfContract.collectionModel}"
                                                              var="row" rows="#{bindings.ShipOfContract.rangeSize}"
                                                              emptyText="#{bindings.ShipOfContract.viewable ? '暂无数据。' : 'Access Denied.'}"
                                                              fetchSize="#{bindings.ShipOfContract.rangeSize}"
                                                              rowBandingInterval="0"
                                                              filterModel="#{bindings.ShipOfContractQuery.queryDescriptor}"
                                                              queryListener="#{bindings.ShipOfContractQuery.processQuery}"
                                                              filterVisible="false" varStatus="vs"
                                                              selectedRowKeys="#{bindings.ShipOfContract.collectionModel.selectedRow}"
                                                              selectionListener="#{bindings.ShipOfContract.collectionModel.makeCurrent}"
                                                              rowSelection="single" id="t3">
                                                        <af:column sortProperty="#{bindings.ShipOfContract.hints.LineNo.name}"
                                                                   filterable="true" sortable="true"
                                                                   headerText="#{bindings.ShipOfContract.hints.LineNo.label}"
                                                                   id="c1" width="34"
                                                                   inlineStyle="#{viewScope.BrowseBean.lineColor}">
                                                            <af:outputText value="#{row.LineNo}" id="ot2">
                                                                <af:convertNumber groupingUsed="false"
                                                                                  pattern="#{bindings.ShipOfContract.hints.LineNo.format}"
                                                                                  maxFractionDigits="7"/>
                                                            </af:outputText>
                                                        </af:column>
                                                        <af:column sortProperty="#{bindings.ShipOfContract.hints.ShipMnftNo.name}"
                                                                   filterable="true" sortable="true"
                                                                   headerText="#{bindings.ShipOfContract.hints.ShipMnftNo.label}"
                                                                   id="c2" width="150"
                                                                   inlineStyle="#{viewScope.BrowseBean.lineColor}"
                                                                   rendered="#{bindings.ContractType.inputValue!='协议'}"
                                                                   frozen="true">
                                                            <af:outputText value="#{row.ShipMnftNo}" id="ot9"/>
                                                        </af:column>
                                                        <af:column sortProperty="#{bindings.ShipOfContract.hints.Price.name}"
                                                                   filterable="true" sortable="true"
                                                                   headerText="#{bindings.ShipOfContract.hints.Price.label}"
                                                                   id="c27"
                                                                   inlineStyle="#{viewScope.BrowseBean.lineColor}"
                                                                   frozen="true">
                                                            <af:outputText value="#{row.Price}" id="ot37">
                                                                <af:convertNumber groupingUsed="false"
                                                                                  pattern="#{bindings.ShipOfContract.hints.Price.format}"
                                                                                  maxFractionDigits="7"/>
                                                            </af:outputText>
                                                        </af:column>
                                                        <af:column sortProperty="#{bindings.ShipOfContract.hints.ShipPlant.name}"
                                                                   filterable="true" sortable="true"
                                                                   headerText="#{bindings.ShipOfContract.hints.ShipPlant.label}"
                                                                   id="c3" width="150"
                                                                   inlineStyle="#{viewScope.BrowseBean.lineColor}">
                                                            <af:outputText value="#{row.ShipPlant}" id="ot10"/>
                                                        </af:column>
                                                        <af:column sortProperty="#{bindings.ShipOfContract.hints.PlantType.name}"
                                                                   filterable="true" sortable="true"
                                                                   headerText="#{bindings.ShipOfContract.hints.PlantType.label}"
                                                                   id="c36"
                                                                   inlineStyle="#{viewScope.BrowseBean.lineColor}">
                                                            <af:selectOneChoice value="#{row.bindings.PlantType.inputValue}"
                                                                                label="#{row.bindings.PlantType.label}"
                                                                                required="#{bindings.ShipOfContract.hints.PlantType.mandatory}"
                                                                                shortDesc="#{bindings.ShipOfContract.hints.PlantType.tooltip}"
                                                                                readOnly="true" id="soc6">
                                                                <f:selectItems value="#{row.bindings.PlantType.items}"
                                                                               id="si6"/>
                                                            </af:selectOneChoice>
                                                        </af:column>
                                                        <af:column sortProperty="#{bindings.ShipOfContract.hints.ShipOwner.name}"
                                                                   filterable="true" sortable="true"
                                                                   headerText="#{bindings.ShipOfContract.hints.ShipOwner.label}"
                                                                   id="c4" width="150"
                                                                   inlineStyle="#{viewScope.BrowseBean.lineColor}">
                                                            <af:outputText value="#{row.ShipOwner}" id="ot23"/>
                                                        </af:column>
                                                        <af:column sortProperty="#{bindings.ShipOfContract.hints.OwnerType.name}"
                                                                   filterable="true" sortable="true"
                                                                   headerText="#{bindings.ShipOfContract.hints.OwnerType.label}"
                                                                   id="c35"
                                                                   inlineStyle="#{viewScope.BrowseBean.lineColor}">
                                                            <af:selectOneChoice value="#{row.bindings.OwnerType.inputValue}"
                                                                                label="#{row.bindings.OwnerType.label}"
                                                                                required="#{bindings.ShipOfContract.hints.OwnerType.mandatory}"
                                                                                shortDesc="#{bindings.ShipOfContract.hints.OwnerType.tooltip}"
                                                                                readOnly="true" id="soc5">
                                                                <f:selectItems value="#{row.bindings.OwnerType.items}"
                                                                               id="si5"/>
                                                            </af:selectOneChoice>
                                                        </af:column>
                                                        <af:column sortProperty="#{bindings.ShipOfContract.hints.ShipBroker.name}"
                                                                   filterable="true" sortable="true"
                                                                   headerText="#{bindings.ShipOfContract.hints.ShipBroker.label}"
                                                                   id="c5" width="150"
                                                                   inlineStyle="#{viewScope.BrowseBean.lineColor}">
                                                            <af:outputText value="#{row.ShipBroker}" id="ot25"/>
                                                        </af:column>
                                                        <af:column sortProperty="#{bindings.ShipOfContract.hints.BrokerType.name}"
                                                                   filterable="true" sortable="true"
                                                                   headerText="#{bindings.ShipOfContract.hints.BrokerType.label}"
                                                                   id="c31"
                                                                   inlineStyle="#{viewScope.BrowseBean.lineColor}">
                                                            <af:selectOneChoice value="#{row.bindings.BrokerType.inputValue}"
                                                                                label="#{row.bindings.BrokerType.label}"
                                                                                required="#{bindings.ShipOfContract.hints.BrokerType.mandatory}"
                                                                                shortDesc="#{bindings.ShipOfContract.hints.BrokerType.tooltip}"
                                                                                readOnly="true" id="soc3">
                                                                <f:selectItems value="#{row.bindings.BrokerType.items}"
                                                                               id="si3"/>
                                                            </af:selectOneChoice>
                                                        </af:column>
                                                        <af:column sortProperty="#{bindings.ShipOfContract.hints.ShipClsfctSociety.name}"
                                                                   filterable="true" sortable="true"
                                                                   headerText="#{bindings.ShipOfContract.hints.ShipClsfctSociety.label}"
                                                                   id="c6" width="105"
                                                                   inlineStyle="#{viewScope.BrowseBean.lineColor}">
                                                            <af:selectOneChoice value="#{row.bindings.ShipClsfctSociety.inputValue}"
                                                                                label="#{row.bindings.ShipClsfctSociety.label}"
                                                                                required="#{bindings.ShipOfContract.hints.ShipClsfctSociety.mandatory}"
                                                                                shortDesc="#{bindings.ShipOfContract.hints.ShipClsfctSociety.tooltip}"
                                                                                readOnly="true" id="soc1">
                                                                <f:selectItems value="#{row.bindings.ShipClsfctSociety.items}"
                                                                               id="si1"/>
                                                            </af:selectOneChoice>
                                                        </af:column>
                                                        <af:column sortProperty="#{bindings.ShipOfContract.hints.ShipName.name}"
                                                                   filterable="true" sortable="true"
                                                                   headerText="#{bindings.ShipOfContract.hints.ShipName.label}"
                                                                   id="c7" width="45"
                                                                   inlineStyle="#{viewScope.BrowseBean.lineColor}">
                                                            <af:outputText value="#{row.ShipName}" id="ot26"/>
                                                        </af:column>
                                                        <af:column sortProperty="#{bindings.ShipOfContract.hints.ImoNo.name}"
                                                                   filterable="true" sortable="true"
                                                                   headerText="#{bindings.ShipOfContract.hints.ImoNo.label}"
                                                                   id="c8"
                                                                   inlineStyle="#{viewScope.BrowseBean.lineColor}">
                                                            <af:outputText value="#{row.ImoNo}" id="ot27"/>
                                                        </af:column>
                                                        <af:column sortProperty="#{bindings.ShipOfContract.hints.ShipNoInternal.name}"
                                                                   filterable="true" sortable="true"
                                                                   headerText="#{bindings.ShipOfContract.hints.ShipNoInternal.label}"
                                                                   id="c9"
                                                                   inlineStyle="#{viewScope.BrowseBean.lineColor}">
                                                            <af:outputText value="#{row.ShipNoInternal}" id="ot28"/>
                                                        </af:column>
                                                        <af:column sortProperty="#{bindings.ShipOfContract.hints.Currency.name}"
                                                                   filterable="true" sortable="true"
                                                                   headerText="#{bindings.ShipOfContract.hints.Currency.label}"
                                                                   id="c32"
                                                                   inlineStyle="#{viewScope.BrowseBean.lineColor}">
                                                            <af:selectOneChoice value="#{row.bindings.Currency.inputValue}"
                                                                                label="#{row.bindings.Currency.label}"
                                                                                required="#{bindings.ShipOfContract.hints.Currency.mandatory}"
                                                                                shortDesc="#{bindings.ShipOfContract.hints.Currency.tooltip}"
                                                                                readOnly="true" id="soc4">
                                                                <f:selectItems value="#{row.bindings.Currency.items}"
                                                                               id="si4"/>
                                                            </af:selectOneChoice>
                                                        </af:column>
                                                        <af:column sortProperty="#{bindings.ShipOfContract.hints.ExchangeRate.name}"
                                                                   filterable="true" sortable="true"
                                                                   headerText="#{bindings.ShipOfContract.hints.ExchangeRate.label}"
                                                                   id="c33"
                                                                   inlineStyle="#{viewScope.BrowseBean.lineColor}">
                                                            <af:outputText value="#{row.ExchangeRate}" id="ot41">
                                                                <af:convertNumber groupingUsed="false"
                                                                                  pattern="#{bindings.ShipOfContract.hints.ExchangeRate.format}"
                                                                                  maxFractionDigits="7"/>
                                                            </af:outputText>
                                                        </af:column>
                                                        <af:column sortProperty="#{bindings.ShipOfContract.hints.ShipPrice.name}"
                                                                   filterable="true" sortable="true"
                                                                   headerText="#{bindings.ShipOfContract.hints.ShipPrice.label}"
                                                                   id="c37"
                                                                   inlineStyle="#{viewScope.BrowseBean.lineColor}">
                                                            <af:outputText value="#{row.ShipPrice}" id="ot51">
                                                                <af:convertNumber groupingUsed="false"
                                                                                  pattern="#{bindings.ShipOfContract.hints.ShipPrice.format}"
                                                                                  maxFractionDigits="7"/>
                                                            </af:outputText>
                                                        </af:column>
                                                        <af:column sortProperty="#{bindings.ShipOfContract.hints.ContractType.name}"
                                                                   filterable="true" sortable="true"
                                                                   headerText="#{bindings.ShipOfContract.hints.ContractType.label}"
                                                                   id="c10"
                                                                   inlineStyle="#{viewScope.BrowseBean.lineColor}">
                                                            <af:selectOneChoice value="#{row.bindings.ContractType.inputValue}"
                                                                                label="#{row.bindings.ContractType.label}"
                                                                                required="#{bindings.ShipOfContract.hints.ContractType.mandatory}"
                                                                                shortDesc="#{bindings.ShipOfContract.hints.ContractType.tooltip}"
                                                                                readOnly="true" id="soc2">
                                                                <f:selectItems value="#{row.bindings.ContractType.items}"
                                                                               id="si2"/>
                                                            </af:selectOneChoice>
                                                        </af:column>
                                                        <af:column sortProperty="#{bindings.ShipOfContract.hints.SignOffDate.name}"
                                                                   filterable="true" sortable="true"
                                                                   headerText="#{bindings.ShipOfContract.hints.SignOffDate.label}"
                                                                   id="c11"
                                                                   inlineStyle="#{viewScope.BrowseBean.lineColor}">
                                                            <af:outputText value="#{row.SignOffDate}" id="ot29">
                                                                <af:convertDateTime pattern="#{bindings.ShipOfContract.hints.SignOffDate.format}"/>
                                                            </af:outputText>
                                                            <f:facet name="filter">
                                                                <af:inputDate value="#{vs.filterCriteria.SignOffDate}"
                                                                              id="id1">
                                                                    <af:convertDateTime pattern="#{bindings.ShipOfContract.hints.SignOffDate.format}"/>
                                                                </af:inputDate>
                                                            </f:facet>
                                                        </af:column>
                                                        <af:column sortProperty="#{bindings.ShipOfContract.hints.EffectiveDate.name}"
                                                                   filterable="true" sortable="true"
                                                                   headerText="#{bindings.ShipOfContract.hints.EffectiveDate.label}"
                                                                   id="c12"
                                                                   inlineStyle="#{viewScope.BrowseBean.lineColor}">
                                                            <af:outputText value="#{row.EffectiveDate}" id="ot30">
                                                                <af:convertDateTime pattern="#{bindings.ShipOfContract.hints.EffectiveDate.format}"/>
                                                            </af:outputText>
                                                            <f:facet name="filter">
                                                                <af:inputDate value="#{vs.filterCriteria.EffectiveDate}"
                                                                              id="id2">
                                                                    <af:convertDateTime pattern="#{bindings.ShipOfContract.hints.EffectiveDate.format}"/>
                                                                </af:inputDate>
                                                            </f:facet>
                                                        </af:column>
                                                        <af:column sortProperty="#{bindings.ShipOfContract.hints.WorkStartDate.name}"
                                                                   filterable="true" sortable="true"
                                                                   headerText="#{bindings.ShipOfContract.hints.WorkStartDate.label}"
                                                                   id="c28"
                                                                   inlineStyle="#{viewScope.BrowseBean.lineColor}">
                                                            <af:outputText value="#{row.WorkStartDate}" id="ot38">
                                                                <af:convertDateTime pattern="#{bindings.ShipOfContract.hints.WorkStartDate.format}"/>
                                                            </af:outputText>
                                                            <f:facet name="filter">
                                                                <af:inputDate value="#{vs.filterCriteria.WorkStartDate}"
                                                                              id="id3">
                                                                    <af:convertDateTime pattern="#{bindings.ShipOfContract.hints.WorkStartDate.format}"/>
                                                                </af:inputDate>
                                                            </f:facet>
                                                        </af:column>
                                                        <af:column sortProperty="#{bindings.ShipOfContract.hints.AbandonDate.name}"
                                                                   filterable="true" sortable="true"
                                                                   headerText="#{bindings.ShipOfContract.hints.AbandonDate.label}"
                                                                   id="c13"
                                                                   inlineStyle="#{viewScope.BrowseBean.lineColor}">
                                                            <af:outputText value="#{row.AbandonDate}" id="ot31">
                                                                <af:convertDateTime pattern="#{bindings.ShipOfContract.hints.AbandonDate.format}"/>
                                                            </af:outputText>
                                                            <f:facet name="filter">
                                                                <af:inputDate value="#{vs.filterCriteria.AbandonDate}"
                                                                              id="id4">
                                                                    <af:convertDateTime pattern="#{bindings.ShipOfContract.hints.AbandonDate.format}"/>
                                                                </af:inputDate>
                                                            </f:facet>
                                                        </af:column>
                                                        <af:column sortProperty="#{bindings.ShipOfContract.hints.FgCompletionDate.name}"
                                                                   filterable="true" sortable="true"
                                                                   headerText="#{bindings.ShipOfContract.hints.FgCompletionDate.label}"
                                                                   id="c29"
                                                                   inlineStyle="#{viewScope.BrowseBean.lineColor}">
                                                            <af:outputText value="#{row.FgCompletionDate}" id="ot39">
                                                                <af:convertDateTime pattern="#{bindings.ShipOfContract.hints.FgCompletionDate.format}"/>
                                                            </af:outputText>
                                                            <f:facet name="filter">
                                                                <af:inputDate value="#{vs.filterCriteria.FgCompletionDate}"
                                                                              id="id7">
                                                                    <af:convertDateTime pattern="#{bindings.ShipOfContract.hints.FgCompletionDate.format}"/>
                                                                </af:inputDate>
                                                            </f:facet>
                                                        </af:column>
                                                        <af:column sortProperty="#{bindings.ShipOfContract.hints.ShipBuildCrtEftDate.name}"
                                                                   filterable="true" sortable="false"
                                                                   headerText="#{bindings.ShipOfContract.hints.ShipBuildCrtEftDate.label}"
                                                                   id="c16"
                                                                   inlineStyle="#{viewScope.BrowseBean.lineColor}">
                                                            <f:facet name="filter">
                                                                <af:inputDate value="#{vs.filterCriteria.ShipBuildCrtEftDate}"
                                                                              id="id5">
                                                                    <af:convertDateTime pattern="#{bindings.ShipOfContract.hints.ShipBuildCrtEftDate.format}"/>
                                                                </af:inputDate>
                                                            </f:facet>
                                                            <af:outputText value="#{row.ShipBuildCrtEftDate}" id="ot40">
                                                                <af:convertDateTime pattern="#{bindings.ShipOfContract.hints.ShipBuildCrtEftDate.format}"/>
                                                            </af:outputText>
                                                        </af:column>
                                                        <af:column sortProperty="#{bindings.ShipOfContract.hints.FourContractBatch.name}"
                                                                   filterable="true" sortable="true"
                                                                   headerText="#{bindings.ShipOfContract.hints.FourContractBatch.label}"
                                                                   id="c34"
                                                                   rendered="#{securityContext.userInRole['marketing_director,contractor,vip']}"
                                                                   inlineStyle="#{viewScope.BrowseBean.lineColor}">
                                                            <af:outputText value="#{row.FourContractBatch}" id="ot49"/>
                                                        </af:column>
                                                        <af:column sortProperty="#{bindings.ShipOfContract.hints.Memo.name}"
                                                                   filterable="true" sortable="true"
                                                                   headerText="#{bindings.ShipOfContract.hints.Memo.label}"
                                                                   id="c26"
                                                                   inlineStyle="#{viewScope.BrowseBean.lineColor}">
                                                            <af:outputText value="#{row.Memo}" id="ot36"/>
                                                        </af:column>
                                                        <af:column sortProperty="#{bindings.ShipOfContract.hints.CreatedBy.name}"
                                                                   filterable="true" sortable="true"
                                                                   headerText="#{bindings.ShipOfContract.hints.CreatedBy.label}"
                                                                   id="c14"
                                                                   inlineStyle="#{viewScope.BrowseBean.lineColor}">
                                                            <af:outputText value="#{row.CreatedBy}" id="ot32"/>
                                                        </af:column>
                                                        <af:column sortProperty="#{bindings.ShipOfContract.hints.CreatedAt.name}"
                                                                   filterable="true" sortable="true"
                                                                   headerText="#{bindings.ShipOfContract.hints.CreatedAt.label}"
                                                                   id="c15"
                                                                   inlineStyle="#{viewScope.BrowseBean.lineColor}">
                                                            <af:outputText value="#{row.CreatedAt}" id="ot33">
                                                                <af:convertDateTime pattern="#{bindings.ShipOfContract.hints.CreatedAt.format}"/>
                                                            </af:outputText>
                                                            <f:facet name="filter">
                                                                <af:inputDate value="#{vs.filterCriteria.CreatedAt}"
                                                                              id="id6">
                                                                    <af:convertDateTime pattern="#{bindings.ShipOfContract.hints.CreatedAt.format}"/>
                                                                </af:inputDate>
                                                            </f:facet>
                                                        </af:column>
                                                        <af:column sortProperty="#{bindings.ShipOfContract.hints.Status.name}"
                                                                   filterable="true" sortable="true"
                                                                   headerText="#{bindings.ShipOfContract.hints.Status.label}"
                                                                   id="c17"
                                                                   inlineStyle="#{viewScope.BrowseBean.lineColor}">
                                                            <af:outputText value="#{row.Status}" id="ot35"/>
                                                        </af:column>
                                                    </af:table>
                                                </af:panelCollection>
                                            </af:panelHeader>
                                        </f:facet>
                                        <f:facet name="start"/>
                                        <f:facet name="end"/>
                                        <f:facet name="top"/>
                                    </af:panelStretchLayout>
                                </af:showDetailItem>
                                <af:showDetailItem text="合同文本及附件" id="sdi3" stretchChildren="first">
                                    <af:panelHeader text="合同文本" id="ph6" messageType="confirmation">
                                        <f:facet name="context"/>
                                        <f:facet name="menuBar"/>
                                        <f:facet name="toolbar"/>
                                        <f:facet name="legend"/>
                                        <f:facet name="info"/>
                                        <af:separator id="s8"/>
                                        <af:panelFormLayout id="pfl4" rows="1">
                                            <af:commandToolbarButton id="ctb9" icon="/images/icons/find.png"
                                                                     text="查看已上传合同"
                                                                     rendered="#{bindings.AgreementImgUrl.inputValue!=null}"
                                                                     partialTriggers="ctb2">
                                                <af:showPopupBehavior popupId="p2" triggerType="click" alignId="pb1"/>
                                            </af:commandToolbarButton>
                                            <af:outputText value="合同文本未上传" id="ot47"
                                                           rendered="#{bindings.AgreementImgUrl.inputValue==null}"/>
                                            <af:popup childCreation="deferred" autoCancel="disabled" id="p2">
                                                <af:panelWindow id="pw2" contentHeight="600" contentWidth="800"
                                                                title="合同文本" modal="true" resize="on">
                                                    <af:panelGroupLayout id="pgl1" layout="scroll">
                                                        <af:forEach items="#{viewScope.UploadBean.imageList}" var="row">
                                                            <af:activeImage source="#{row}" id="ai1"/>
                                                        </af:forEach>
                                                    </af:panelGroupLayout>
                                                </af:panelWindow>
                                            </af:popup>
                                        </af:panelFormLayout>
                                    </af:panelHeader>
                                    <af:separator id="s9"/>
                                    <af:panelHeader text="其他附件" id="ph7" messageType="confirmation">
                                        <f:facet name="context"/>
                                        <f:facet name="menuBar"/>
                                        <f:facet name="toolbar"/>
                                        <f:facet name="legend"/>
                                        <f:facet name="info"/>
                                        <af:separator id="s10"/>
                                        <af:panelCollection id="pc3" styleClass="AFStretchWidth">
                                            <f:facet name="menus"/>
                                            <f:facet name="toolbar"/>
                                            <f:facet name="statusbar"/>
                                            <af:table value="#{bindings.AttachmentOfContract.collectionModel}" var="row"
                                                      rows="#{bindings.AttachmentOfContract.rangeSize}"
                                                      emptyText="#{bindings.AttachmentOfContract.viewable ? '暂无数据。' : 'Access Denied.'}"
                                                      fetchSize="#{bindings.AttachmentOfContract.rangeSize}"
                                                      rowBandingInterval="0"
                                                      selectedRowKeys="#{bindings.AttachmentOfContract.collectionModel.selectedRow}"
                                                      selectionListener="#{bindings.AttachmentOfContract.collectionModel.makeCurrent}"
                                                      rowSelection="single" id="t2">
                                                <af:column sortProperty="#{bindings.AttachmentOfContract.hints.FileName.name}"
                                                           sortable="true"
                                                           headerText="#{bindings.AttachmentOfContract.hints.FileName.label}"
                                                           id="c23">
                                                    <af:outputText value="#{row.FileName}" id="ot48"/>
                                                </af:column>
                                                <af:column sortProperty="#{bindings.AttachmentOfContract.hints.FileDesc.name}"
                                                           sortable="true"
                                                           headerText="#{bindings.AttachmentOfContract.hints.FileDesc.label}"
                                                           id="c24">
                                                    <af:outputText value="#{row.FileDesc}" id="ot50"/>
                                                </af:column>
                                                <af:column sortProperty="#{bindings.AttachmentOfContract.hints.FileLink.name}"
                                                           sortable="true"
                                                           headerText="#{bindings.AttachmentOfContract.hints.FileLink.label}"
                                                           id="c25">
                                                    <af:commandButton text="下载文件" id="cb1"
                                                                      binding="#{BrowseBean.downloadButton}">
                                                        <af:fileDownloadActionListener method="#{viewScope.BrowseBean.download}"
                                                                                       filename="#{row.FileName}"/>
                                                        <af:clientAttribute name="filePath" value="#{row.FileLink}"/>
                                                    </af:commandButton>
                                                </af:column>
                                                <af:column sortProperty="#{bindings.AttachmentOfContract.hints.CreatedBy.name}"
                                                           sortable="true"
                                                           headerText="#{bindings.AttachmentOfContract.hints.CreatedBy.label}"
                                                           id="c46">
                                                    <af:outputText value="#{row.CreatedBy}" id="ot61"/>
                                                </af:column>
                                                <af:column sortProperty="#{bindings.AttachmentOfContract.hints.CreationDate.name}"
                                                           sortable="true"
                                                           headerText="#{bindings.AttachmentOfContract.hints.CreationDate.label}"
                                                           id="c47">
                                                    <af:outputText value="#{row.CreationDate}" id="ot62">
                                                        <af:convertDateTime pattern="#{bindings.AttachmentOfContract.hints.CreationDate.format}"/>
                                                    </af:outputText>
                                                </af:column>
                                            </af:table>
                                        </af:panelCollection>
                                    </af:panelHeader>
                                </af:showDetailItem>
                                <af:showDetailItem text="收款汇总" id="sdi7" stretchChildren="first">
                                    <af:panelSplitter id="ps3" orientation="vertical" splitterPosition="100">
                                        <f:facet name="first">
                                            <af:panelHeader text="收款状态" id="ph12" messageType="confirmation">
                                                <f:facet name="context"/>
                                                <f:facet name="menuBar"/>
                                                <f:facet name="toolbar"/>
                                                <f:facet name="legend"/>
                                                <f:facet name="info"/>
                                                <af:separator id="s14"/>
                                                <af:panelGroupLayout id="pgl4" layout="horizontal">
                                                    <af:panelFormLayout id="pfl7" rows="1" inlineStyle="font-size:130%;"
                                                                        styleClass="AFStretchWidth" maxColumns="5"
                                                                        fieldWidth="100" labelWidth="120">
                                                        <af:panelLabelAndMessage label="#{bindings.TotalAmount1.hints.label}"
                                                                                 id="plam22">
                                                            <af:outputText value="#{bindings.TotalAmount1.inputValue}"
                                                                           id="ot75" inlineStyle="color:Navy;">
                                                                <af:convertNumber groupingUsed="false"
                                                                                  pattern="#{bindings.TotalAmount1.format}"/>
                                                            </af:outputText>
                                                        </af:panelLabelAndMessage>
                                                        <af:panelLabelAndMessage label="#{bindings.PaymentTotalPayment.hints.label}"
                                                                                 id="plam23">
                                                            <af:outputText value="#{bindings.PaymentTotalPayment.inputValue}"
                                                                           id="ot76" inlineStyle="color:Green;">
                                                                <af:convertNumber groupingUsed="false"
                                                                                  pattern="#{bindings.PaymentTotalPayment.format}"/>
                                                            </af:outputText>
                                                        </af:panelLabelAndMessage>
                                                        <af:panelLabelAndMessage label="#{bindings.Bal.hints.label}"
                                                                                 id="plam24">
                                                            <af:outputText value="#{bindings.Bal.inputValue}" id="ot77"
                                                                           inlineStyle="color:Red;">
                                                                <af:convertNumber groupingUsed="false"
                                                                                  pattern="#{bindings.Bal.format}"/>
                                                            </af:outputText>
                                                        </af:panelLabelAndMessage>
                                                        <f:facet name="footer"/>
                                                    </af:panelFormLayout>
                                                    <af:outputText value="收款进度%" id="ot59"/>
                                                    <dvt:gauge id="gauge1" value="#{bindings.ContractStatus.gaugeModel}"
                                                               gaugeType="STATUSMETER" imageWidth="200"
                                                               imageHeight="50">
                                                        <dvt:gaugeBackground>
                                                            <dvt:specialEffects/>
                                                        </dvt:gaugeBackground>
                                                        <dvt:thresholdSet>
                                                            <dvt:threshold fillColor="#d62800" thresholdMaxValue="20.0"
                                                                           text="20%"/>
                                                            <dvt:threshold fillColor="#ffcf21" thresholdMaxValue="50.0"
                                                                           text="50%"/>
                                                            <dvt:threshold fillColor="#84ae31"/>
                                                        </dvt:thresholdSet>
                                                        <dvt:topLabel position="LP_NONE"/>
                                                        <dvt:metricLabel position="LP_INSIDE_GAUGE"
                                                                         numberType="NT_PERCENT"/>
                                                        <dvt:bottomLabel position="LP_NONE"/>
                                                    </dvt:gauge>
                                                </af:panelGroupLayout>
                                                <af:separator id="s15"/>
                                            </af:panelHeader>
                                        </f:facet>
                                        <f:facet name="second">
                                            
                                                <af:panelHeader text="船只收款进度汇总" id="ph10" messageType="confirmation">
                                                    <f:facet name="context"/>
                                                    <f:facet name="menuBar"/>
                                                    <f:facet name="toolbar"/>
                                                    <f:facet name="legend"/>
                                                    <f:facet name="info"/>
                                                <af:panelGroupLayout id="pgl5" layout="scroll"
                                                                     inlineStyle="height:400px;">
                                                    <af:separator id="s16"/>
                                                    <af:panelCollection id="pc5" styleClass="AFStretchWidth"
                                                                        inlineStyle="height:400px;">
                                                        <f:facet name="menus"/>
                                                        <f:facet name="toolbar"/>
                                                        <f:facet name="statusbar"/>
                                                        <af:table value="#{bindings.LineStatus.collectionModel}"
                                                                  var="row" rows="#{bindings.LineStatus.rangeSize}"
                                                                  emptyText="#{bindings.LineStatus.viewable ? 'No data to display.' : 'Access Denied.'}"
                                                                  fetchSize="#{bindings.LineStatus.rangeSize}"
                                                                  rowBandingInterval="0"
                                                                  selectedRowKeys="#{bindings.LineStatus.collectionModel.selectedRow}"
                                                                  selectionListener="#{bindings.LineStatus.collectionModel.makeCurrent}"
                                                                  rowSelection="single" id="t10">
                                                            <af:column sortProperty="#{bindings.LineStatus.hints.ShipMnftNo.name}"
                                                                       sortable="true"
                                                                       headerText="#{bindings.LineStatus.hints.ShipMnftNo.label}"
                                                                       id="c59">
                                                                <af:outputText value="#{row.ShipMnftNo}" id="ot71"/>
                                                            </af:column>
                                                            <af:column sortProperty="#{bindings.LineStatus.hints.TotalAmount.name}"
                                                                       sortable="true"
                                                                       headerText="#{bindings.LineStatus.hints.TotalAmount.label}"
                                                                       id="c45">
                                                                <af:outputText value="#{row.TotalAmount}" id="ot54">
                                                                    <af:convertNumber groupingUsed="false"
                                                                                      pattern="#{bindings.LineStatus.hints.TotalAmount.format}"/>
                                                                </af:outputText>
                                                            </af:column>
                                                            <af:column sortProperty="#{bindings.LineStatus.hints.PaymentTotalPayment.name}"
                                                                       sortable="true"
                                                                       headerText="#{bindings.LineStatus.hints.PaymentTotalPayment.label}"
                                                                       id="c56">
                                                                <af:outputText value="#{row.PaymentTotalPayment}"
                                                                               id="ot56">
                                                                    <af:convertNumber groupingUsed="false"
                                                                                      pattern="#{bindings.LineStatus.hints.PaymentTotalPayment.format}"/>
                                                                </af:outputText>
                                                            </af:column>
                                                            <af:column sortProperty="#{bindings.LineStatus.hints.Bal.name}"
                                                                       sortable="true"
                                                                       headerText="#{bindings.LineStatus.hints.Bal.label}"
                                                                       id="c57">
                                                                <af:outputText value="#{row.Bal}" id="ot58">
                                                                    <af:convertNumber groupingUsed="false"
                                                                                      pattern="#{bindings.LineStatus.hints.Bal.format}"/>
                                                                </af:outputText>
                                                            </af:column>
                                                            <af:column sortProperty="#{bindings.LineStatus.hints.NumOfPayments.name}"
                                                                       sortable="true"
                                                                       headerText="#{bindings.LineStatus.hints.NumOfPayments.label}"
                                                                       id="c60">
                                                                <af:outputText value="#{row.NumOfPayments}" id="ot73">
                                                                    <af:convertNumber groupingUsed="false"
                                                                                      pattern="#{bindings.LineStatus.hints.NumOfPayments.format}"/>
                                                                </af:outputText>
                                                            </af:column>
                                                            <af:column sortProperty="#{bindings.LineStatus.hints.paymentPercentage.name}"
                                                                       sortable="true"
                                                                       headerText="#{bindings.LineStatus.hints.paymentPercentage.label}"
                                                                       id="c61" width="200">
                                                                <dvt:gauge id="gauge2" gaugeType="STATUSMETER"
                                                                           value="#{row.paymentPercentage}"
                                                                           imageWidth="200" imageHeight="50">
                                                                    <dvt:gaugeBackground>
                                                                        <dvt:specialEffects/>
                                                                    </dvt:gaugeBackground>
                                                                    <dvt:thresholdSet>
                                                                        <dvt:threshold thresholdMaxValue="20.0"
                                                                                       text="20%"/>
                                                                        <dvt:threshold thresholdMaxValue="50.0"
                                                                                       text="50%"/>
                                                                        <dvt:threshold/>
                                                                    </dvt:thresholdSet>
                                                                    <dvt:indicatorBar/>
                                                                    <dvt:gaugePlotArea/>
                                                                    <dvt:tickLabel/>
                                                                    <dvt:tickMark/>
                                                                    <dvt:topLabel position="LP_NONE"/>
                                                                    <dvt:metricLabel position="LP_INSIDE_GAUGE"
                                                                                     numberType="NT_PERCENT"/>
                                                                    <dvt:bottomLabel position="LP_NONE"/>
                                                                </dvt:gauge>
                                                            </af:column>
                                                        </af:table>
                                                    </af:panelCollection>
                                                    <af:separator id="s17"/>
                                                </af:panelGroupLayout>
                                            </af:panelHeader>
                                              
                                            
                                        </f:facet>
                                    </af:panelSplitter>
                                </af:showDetailItem>
                                <af:showDetailItem text="审核历史" id="sdi4" stretchChildren="first">
                                    <af:panelStretchLayout id="psl2">
                                        <f:facet name="bottom"/>
                                        <f:facet name="center">
                                            <af:panelCollection id="pc1">
                                                <f:facet name="menus"/>
                                                <f:facet name="toolbar"/>
                                                <f:facet name="statusbar"/>
                                                <af:table value="#{bindings.ApprovalHistory.collectionModel}" var="row"
                                                          rows="#{bindings.ApprovalHistory.rangeSize}"
                                                          emptyText="#{bindings.ApprovalHistory.viewable ? '暂无数据。' : 'Access Denied.'}"
                                                          fetchSize="#{bindings.ApprovalHistory.rangeSize}"
                                                          rowBandingInterval="0" id="t4">
                                                    <af:column sortProperty="#{bindings.ApprovalHistory.hints.Seq.name}"
                                                               sortable="true"
                                                               headerText="#{bindings.ApprovalHistory.hints.Seq.label}"
                                                               id="c48" width="105">
                                                        <af:outputText value="#{row.Seq}" id="ot60">
                                                            <af:convertNumber groupingUsed="false"
                                                                              pattern="#{bindings.ApprovalHistory.hints.Seq.format}"
                                                                              maxFractionDigits="7"/>
                                                        </af:outputText>
                                                    </af:column>
                                                    <af:column sortProperty="#{bindings.ApprovalHistory.hints.Type.name}"
                                                               sortable="true"
                                                               headerText="#{bindings.ApprovalHistory.hints.Type.label}"
                                                               id="c49" width="105">
                                                        <af:outputText value="#{row.Type}" id="ot63"/>
                                                    </af:column>
                                                    <af:column sortProperty="#{bindings.ApprovalHistory.hints.FullName1.name}"
                                                               sortable="true"
                                                               headerText="#{bindings.ApprovalHistory.hints.FullName1.label}"
                                                               id="c50" width="105">
                                                        <af:outputText value="#{row.FullName1}" id="ot64"/>
                                                    </af:column>
                                                    <af:column sortProperty="#{bindings.ApprovalHistory.hints.Outcome.name}"
                                                               sortable="true"
                                                               headerText="#{bindings.ApprovalHistory.hints.Outcome.label}"
                                                               id="c51" width="105">
                                                        <af:outputText value="#{row.Outcome}" id="ot65"/>
                                                    </af:column>
                                                    <af:column sortProperty="#{bindings.ApprovalHistory.hints.Memo.name}"
                                                               sortable="true"
                                                               headerText="#{bindings.ApprovalHistory.hints.Memo.label}"
                                                               id="c52" width="105">
                                                        <af:outputText value="#{row.Memo}" id="ot66"/>
                                                    </af:column>
                                                    <af:column sortProperty="#{bindings.ApprovalHistory.hints.ApprovalDate.name}"
                                                               sortable="true"
                                                               headerText="#{bindings.ApprovalHistory.hints.ApprovalDate.label}"
                                                               id="c53" width="103">
                                                        <af:outputText value="#{row.ApprovalDate}" id="ot67">
                                                            <af:convertDateTime pattern="#{bindings.ApprovalHistory.hints.ApprovalDate.format}"/>
                                                        </af:outputText>
                                                    </af:column>
                                                    <af:column sortProperty="#{bindings.ApprovalHistory.hints.ApprovalRole.name}"
                                                               sortable="true"
                                                               headerText="#{bindings.ApprovalHistory.hints.ApprovalRole.label}"
                                                               id="c54" width="107">
                                                        <af:outputText value="#{row.ApprovalRole}" id="ot68"/>
                                                    </af:column>
                                                    <af:column sortProperty="#{bindings.ApprovalHistory.hints.FullName.name}"
                                                               sortable="true"
                                                               headerText="#{bindings.ApprovalHistory.hints.FullName.label}"
                                                               id="c55" width="77">
                                                        <af:outputText value="#{row.FullName}" id="ot69"/>
                                                    </af:column>
                                                </af:table>
                                            </af:panelCollection>
                                        </f:facet>
                                        <f:facet name="start"/>
                                        <f:facet name="end"/>
                                        <f:facet name="top">
                                            <af:panelHeader text="审核历史记录" id="ph8" messageType="confirmation">
                                                <f:facet name="context"/>
                                                <f:facet name="menuBar"/>
                                                <f:facet name="toolbar"/>
                                                <f:facet name="legend"/>
                                                <f:facet name="info"/>
                                                <af:separator id="s7"/>
                                            </af:panelHeader>
                                        </f:facet>
                                    </af:panelStretchLayout>
                                </af:showDetailItem>
                            </af:panelTabbed>
                        </af:panelBox>
                    </f:facet>
                </af:panelSplitter>
                <af:popup id="p3" binding="#{BrowseBean.popup}">
                    <af:panelWindow id="pw3" modal="true">
                        <af:panelBox text="请确认" id="pb5">
                            <f:facet name="toolbar"/>
                            <af:panelHeader text="您确认需要终止/暂停合同吗？" id="panelHeader1">
                                <f:facet name="context"/>
                                <f:facet name="menuBar"/>
                                <f:facet name="toolbar"/>
                                <f:facet name="legend"/>
                                <f:facet name="info"/>
                                <af:separator id="separator1"/>
                                <af:panelGroupLayout id="pgl7" layout="vertical">
                                    <af:panelList id="pl2">
                                        <af:outputText value="1. 提交当前合同至合同管理员审核" id="outputText2"/>
                                        <af:outputText value="2. 合同管理员审核完成后由市场营销主任审核" id="outputText3"/>
                                        <af:outputText value="3. 审核全部通过后，合同正式终止或者暂停。" id="ot72"/>
                                    </af:panelList>
                                    <af:inputText label="备注" id="it28" rows="2" binding="#{BrowseBean.memoInput}"/>
                                    <af:separator id="separator2"/>
                                    <af:panelGroupLayout id="pgl3" layout="horizontal">
                                        <af:commandButton text="确认提交" id="cb2" icon="/images/icons/ico_person.gif"
                                                          action="#{BrowseBean.goApproval}"/>
                                        <af:commandButton text="取消" id="cb3" icon="/images/icons/undo.png"
                                                          action="#{BrowseBean.closePopup}"/>
                                    </af:panelGroupLayout>
                                </af:panelGroupLayout>
                            </af:panelHeader>
                        </af:panelBox>
                    </af:panelWindow>
                </af:popup>
                <af:popup childCreation="deferred" autoCancel="disabled" id="p1">
                    <af:dialog id="d2" title="确定该操作吗？" dialogListener="#{BrowseBean.confirmInvReq}" contentWidth="300"
                               contentHeight="100" stretchChildren="first" closeIconVisible="false"
                               titleIconSource="/images/icons/task.png">
                        <f:facet name="buttonBar"/>
                        <af:panelFormLayout id="pfl6">
                            <f:facet name="footer">
                                <af:inputDate label="预计收款日期" id="id13" showRequired="true" required="true"
                                              value="#{bindings.PaymentPlanDate.inputValue}">
                                    <f:validator binding="#{bindings.PaymentPlanDate.validator}"/>
                                    <af:convertDateTime pattern="#{bindings.PaymentPlanDate.format}"/>
                                </af:inputDate>
                            </f:facet>
                            <af:outputText value="确认后，发票申请将会提交至本部门主任审核，最后通过市场部主任审核通过后方能开票 ！" id="ot45"/>
                        </af:panelFormLayout>
                    </af:dialog>
                </af:popup>
                <af:popup childCreation="deferred" autoCancel="disabled" id="p5" binding="#{BrowseBean.invReqPopup}">
                    <af:panelWindow id="pw1" stretchChildren="first" modal="true" resize="on" contentHeight="500"
                                    contentWidth="800" closeIconVisible="false">
                        <af:panelBox text="申请开票" id="pb3" background="medium">
                            <f:facet name="toolbar"/>
                            <af:panelStretchLayout id="psl3" startWidth="0px" endWidth="0px" bottomHeight="0px">
                                <f:facet name="bottom"/>
                                <f:facet name="center">
                                    <af:panelCollection id="pc6">
                                        <f:facet name="menus"/>
                                        <f:facet name="toolbar">
                                            <af:toolbar id="t11">
                                                <af:commandToolbarButton text="提交审批" id="ctb14"
                                                                         icon="/images/icons/profiler_active_session.png"
                                                                         disabled="#{!bindings.Commit.enabled}">
                                                    <af:showPopupBehavior popupId="::p6" triggerType="click"/>
                                                </af:commandToolbarButton>
                                                <af:commandToolbarButton text="取消" id="ctb16"
                                                                         icon="/images/icons/undo.png"
                                                                         disabled="#{!bindings.Rollback.enabled}"
                                                                         immediate="true"
                                                                         action="#{BrowseBean.cancelReq}"
                                                                         actionListener="#{bindings.Rollback.execute}">
                                                    <af:resetActionListener/>
                                                </af:commandToolbarButton>
                                            </af:toolbar>
                                        </f:facet>
                                        <f:facet name="statusbar"/>
                                        <af:table value="#{bindings.DraftInvoiceRequisition.collectionModel}" var="row"
                                                  rows="#{bindings.DraftInvoiceRequisition.rangeSize}"
                                                  emptyText="#{bindings.DraftInvoiceRequisition.viewable ? '暂无数据。' : 'Access Denied.'}"
                                                  fetchSize="#{bindings.DraftInvoiceRequisition.rangeSize}"
                                                  rowBandingInterval="0"
                                                  selectedRowKeys="#{bindings.DraftInvoiceRequisition.collectionModel.selectedRow}"
                                                  selectionListener="#{bindings.DraftInvoiceRequisition.collectionModel.makeCurrent}"
                                                  rowSelection="single" id="t12" partialTriggers=":::pc2:ctb11"
                                                  binding="#{BrowseBean.invReqTable}" autoHeightRows="3">
                                            <af:column sortProperty="#{bindings.DraftInvoiceRequisition.hints.PaymentName.name}"
                                                       headerText="#{bindings.DraftInvoiceRequisition.hints.PaymentName.label}"
                                                       id="c58">
                                                <af:inputText value="#{row.bindings.PaymentName.inputValue}"
                                                              label="#{bindings.DraftInvoiceRequisition.hints.PaymentName.label}"
                                                              required="#{bindings.DraftInvoiceRequisition.hints.PaymentName.mandatory}"
                                                              columns="#{bindings.DraftInvoiceRequisition.hints.PaymentName.displayWidth}"
                                                              maximumLength="#{bindings.DraftInvoiceRequisition.hints.PaymentName.precision}"
                                                              shortDesc="#{bindings.DraftInvoiceRequisition.hints.PaymentName.tooltip}"
                                                              id="it23" readOnly="true">
                                                    <f:validator binding="#{row.bindings.PaymentName.validator}"/>
                                                </af:inputText>
                                            </af:column>
                                            <af:column sortProperty="#{bindings.DraftInvoiceRequisition.hints.Amount.name}"
                                                       headerText="#{bindings.DraftInvoiceRequisition.hints.Amount.label}"
                                                       id="c62">
                                                <af:inputText value="#{row.bindings.Amount.inputValue}"
                                                              label="#{bindings.DraftInvoiceRequisition.hints.Amount.label}"
                                                              required="#{bindings.DraftInvoiceRequisition.hints.Amount.mandatory}"
                                                              columns="#{bindings.DraftInvoiceRequisition.hints.Amount.displayWidth}"
                                                              maximumLength="#{bindings.DraftInvoiceRequisition.hints.Amount.precision}"
                                                              shortDesc="#{bindings.DraftInvoiceRequisition.hints.Amount.tooltip}"
                                                              id="it9" readOnly="false">
                                                    <f:validator binding="#{row.bindings.Amount.validator}"/>
                                                    <af:convertNumber groupingUsed="false"
                                                                      pattern="#{bindings.DraftInvoiceRequisition.hints.Amount.format}"/>
                                                </af:inputText>
                                            </af:column>
                                            <af:column sortProperty="#{bindings.DraftInvoiceRequisition.hints.Memo.name}"
                                                       headerText="#{bindings.DraftInvoiceRequisition.hints.Memo.label}"
                                                       id="c63">
                                                <af:inputText value="#{row.bindings.Memo.inputValue}"
                                                              label="#{bindings.DraftInvoiceRequisition.hints.Memo.label}"
                                                              required="#{bindings.DraftInvoiceRequisition.hints.Memo.mandatory}"
                                                              columns="#{bindings.DraftInvoiceRequisition.hints.Memo.displayWidth}"
                                                              maximumLength="#{bindings.DraftInvoiceRequisition.hints.Memo.precision}"
                                                              shortDesc="#{bindings.DraftInvoiceRequisition.hints.Memo.tooltip}"
                                                              id="it10">
                                                    <f:validator binding="#{row.bindings.Memo.validator}"/>
                                                </af:inputText>
                                            </af:column>
                                            <af:column sortProperty="#{bindings.DraftInvoiceRequisition.hints.CustomerContactName.name}"
                                                       headerText="#{bindings.DraftInvoiceRequisition.hints.CustomerContactName.label}"
                                                       id="c100">
                                                <af:inputText value="#{row.bindings.CustomerContactName.inputValue}"
                                                              label="#{bindings.DraftInvoiceRequisition.hints.CustomerContactName.label}"
                                                              required="#{bindings.DraftInvoiceRequisition.hints.CustomerContactName.mandatory}"
                                                              columns="#{bindings.DraftInvoiceRequisition.hints.CustomerContactName.displayWidth}"
                                                              maximumLength="#{bindings.DraftInvoiceRequisition.hints.CustomerContactName.precision}"
                                                              shortDesc="#{bindings.DraftInvoiceRequisition.hints.CustomerContactName.tooltip}"
                                                              id="it60" readOnly="true">
                                                    <f:validator binding="#{row.bindings.CustomerContactName.validator}"/>
                                                </af:inputText>
                                               
                                                <af:commandImageLink icon="/images/icons/find.png" id="cl1" >
                                                <af:showPopupBehavior popupId=":::pc2:p4" triggerType="action"/>
                                                </af:commandImageLink>
                                               
                                            </af:column>
                                            <af:column sortProperty="#{bindings.DraftInvoiceRequisition.hints.AuthName.name}"
                                                       headerText="#{bindings.DraftInvoiceRequisition.hints.AuthName.label}"
                                                       id="c94">
                                                <af:inputText value="#{row.bindings.AuthName1.inputValue}"
                                                              label="#{bindings.DraftInvoiceRequisition.hints.AuthName1.label}"
                                                              required="#{bindings.DraftInvoiceRequisition.hints.AuthName1.mandatory}"
                                                              columns="#{bindings.DraftInvoiceRequisition.hints.AuthName1.displayWidth}"
                                                              maximumLength="#{bindings.DraftInvoiceRequisition.hints.AuthName1.precision}"
                                                              shortDesc="#{bindings.DraftInvoiceRequisition.hints.AuthName1.tooltip}"
                                                              id="it54" readOnly="true">
                                                    <f:validator binding="#{row.bindings.AuthName.validator}"/>
                                                </af:inputText>
                                                <af:commandImageLink id="cil3" icon="/images/icons/find.png"
                                                                     action="#{BrowseBean.checkCustomer}"
                                                                     useWindow="true" windowEmbedStyle="window"
                                                                     windowModalityType="modeless" windowWidth="250"
                                                                     returnListener="#{HeaderBean.onSelectCustomerReturn}"
                                                                     immediate="true" partialSubmit="true"
                                                                     disabled="#{bindings.AuthType.inputValue eq 0}"
                                                                     windowHeight="350"/>
                                            </af:column>
                                            <af:column sortProperty="#{bindings.DraftInvoiceRequisition.hints.PaymentPlanDate.name}"
                                                       headerText="#{bindings.DraftInvoiceRequisition.hints.PaymentPlanDate.label}"
                                                       id="c64">
                                                <af:inputDate value="#{row.LinePaymentDetailView.bindings.PaymentPlanDate.inputValue}"
                                                              label="#{bindings.DraftInvoiceRequisition.hints.LinePaymentDetailView.PaymentPlanDate.label}"
                                                              required="#{bindings.DraftInvoiceRequisition.hints.LinePaymentDetailView.PaymentPlanDate.mandatory}"
                                                              columns="#{bindings.DraftInvoiceRequisition.hints.LinePaymentDetailView.PaymentPlanDate.displayWidth}"
                                                              shortDesc="#{bindings.DraftInvoiceRequisition.hints.LinePaymentDetailView.PaymentPlanDate.tooltip}"
                                                              id="id14">
                                                    <f:validator validatorId="javax.faces.Required"/>
                                                    <af:convertDateTime pattern="#{bindings.DraftInvoiceRequisition.hints.LinePaymentDetailView.PaymentPlanDate.format}"/>
                                                </af:inputDate>
                                            </af:column>
                                            <af:column sortProperty="#{bindings.DraftInvoiceRequisition.hints.ShipMnftNo.name}"
                                                       headerText="#{bindings.DraftInvoiceRequisition.hints.ShipMnftNo.label}"
                                                       id="c84">
                                                <af:inputText value="#{row.bindings.ShipMnftNo.inputValue}"
                                                              label="#{bindings.DraftInvoiceRequisition.hints.ShipMnftNo.label}"
                                                              required="#{bindings.DraftInvoiceRequisition.hints.ShipMnftNo.mandatory}"
                                                              columns="#{bindings.DraftInvoiceRequisition.hints.ShipMnftNo.displayWidth}"
                                                              maximumLength="#{bindings.DraftInvoiceRequisition.hints.ShipMnftNo.precision}"
                                                              shortDesc="#{bindings.DraftInvoiceRequisition.hints.ShipMnftNo.tooltip}"
                                                              id="it46" readOnly="true">
                                                    <f:validator binding="#{row.bindings.ShipMnftNo.validator}"/>
                                                </af:inputText>
                                            </af:column>
                                            <af:column sortProperty="#{bindings.DraftInvoiceRequisition.hints.ShipName.name}"
                                                       headerText="#{bindings.DraftInvoiceRequisition.hints.ShipName.label}"
                                                       id="c85">
                                                <af:inputText value="#{row.bindings.ShipName.inputValue}"
                                                              label="#{bindings.DraftInvoiceRequisition.hints.ShipName.label}"
                                                              required="#{bindings.DraftInvoiceRequisition.hints.ShipName.mandatory}"
                                                              columns="#{bindings.DraftInvoiceRequisition.hints.ShipName.displayWidth}"
                                                              maximumLength="#{bindings.DraftInvoiceRequisition.hints.ShipName.precision}"
                                                              shortDesc="#{bindings.DraftInvoiceRequisition.hints.ShipName.tooltip}"
                                                              id="it47">
                                                    <f:validator binding="#{row.bindings.ShipName.validator}"/>
                                                </af:inputText>
                                            </af:column>
                                            <af:column sortProperty="#{bindings.DraftInvoiceRequisition.hints.ContractEntity.name}"
                                                       headerText="#{bindings.DraftInvoiceRequisition.hints.ContractEntity.label}"
                                                       id="c97">
                                                <af:inputText value="#{row.bindings.ContractEntity.inputValue}"
                                                              label="#{bindings.DraftInvoiceRequisition.hints.ContractEntity.label}"
                                                              required="#{bindings.DraftInvoiceRequisition.hints.ContractEntity.mandatory}"
                                                              columns="#{bindings.DraftInvoiceRequisition.hints.ContractEntity.displayWidth}"
                                                              maximumLength="#{bindings.DraftInvoiceRequisition.hints.ContractEntity.precision}"
                                                              shortDesc="#{bindings.DraftInvoiceRequisition.hints.ContractEntity.tooltip}"
                                                              id="it57">
                                                    <f:validator binding="#{row.bindings.ContractEntity.validator}"/>
                                                </af:inputText>
                                            </af:column>
                                            <af:column sortProperty="#{bindings.DraftInvoiceRequisition.hints.ContractNo.name}"
                                                       headerText="#{bindings.DraftInvoiceRequisition.hints.ContractNo.label}"
                                                       id="c98">
                                                <af:inputText value="#{row.bindings.ContractNo.inputValue}"
                                                              label="#{bindings.DraftInvoiceRequisition.hints.ContractNo.label}"
                                                              required="#{bindings.DraftInvoiceRequisition.hints.ContractNo.mandatory}"
                                                              columns="#{bindings.DraftInvoiceRequisition.hints.ContractNo.displayWidth}"
                                                              maximumLength="#{bindings.DraftInvoiceRequisition.hints.ContractNo.precision}"
                                                              shortDesc="#{bindings.DraftInvoiceRequisition.hints.ContractNo.tooltip}"
                                                              id="it58">
                                                    <f:validator binding="#{row.bindings.ContractNo.validator}"/>
                                                </af:inputText>
                                            </af:column>
                                            <af:column sortProperty="#{bindings.DraftInvoiceRequisition.hints.LinePaymentDetailView.DesignDept.name}"
                                                       headerText="#{bindings.DraftInvoiceRequisition.hints.LinePaymentDetailView.DesignDept.label}"
                                                       id="c104">
                                                <af:inputText value="#{row.LinePaymentDetailView.bindings.DesignDept.inputValue}"
                                                              label="#{bindings.DraftInvoiceRequisition.hints.LinePaymentDetailView.DesignDept.label}"
                                                              required="#{bindings.DraftInvoiceRequisition.hints.LinePaymentDetailView.DesignDept.mandatory}"
                                                              columns="#{bindings.DraftInvoiceRequisition.hints.LinePaymentDetailView.DesignDept.displayWidth}"
                                                              maximumLength="#{bindings.DraftInvoiceRequisition.hints.LinePaymentDetailView.DesignDept.precision}"
                                                              shortDesc="#{bindings.DraftInvoiceRequisition.hints.LinePaymentDetailView.DesignDept.tooltip}"
                                                              id="it64">
                                                    <f:validator binding="#{row.LinePaymentDetailView.bindings.DesignDept.validator}"/>
                                                </af:inputText>
                                            </af:column>
                                            <af:column sortProperty="#{bindings.DraftInvoiceRequisition.hints.PaymentPlanInvoiceDate.name}"
                                                       headerText="#{bindings.DraftInvoiceRequisition.hints.PaymentPlanInvoiceDate.label}"
                                                       id="c65">
                                                <af:outputText value="#{row.PaymentPlanInvoiceDate}" id="ot74">
                                                    <af:convertDateTime pattern="#{bindings.DraftInvoiceRequisition.hints.PaymentPlanInvoiceDate.format}"/>
                                                </af:outputText>
                                            </af:column>
                                            <af:column sortProperty="#{bindings.DraftInvoiceRequisition.hints.RequestDate.name}"
                                                       headerText="#{bindings.DraftInvoiceRequisition.hints.RequestDate.label}"
                                                       id="c66">
                                                <af:inputDate value="#{row.bindings.RequestDate.inputValue}"
                                                              label="#{bindings.DraftInvoiceRequisition.hints.RequestDate.label}"
                                                              required="#{bindings.DraftInvoiceRequisition.hints.RequestDate.mandatory}"
                                                              columns="#{bindings.DraftInvoiceRequisition.hints.RequestDate.displayWidth}"
                                                              shortDesc="#{bindings.DraftInvoiceRequisition.hints.RequestDate.tooltip}"
                                                              id="id15">
                                                    <f:validator binding="#{row.bindings.RequestDate.validator}"/>
                                                    <af:convertDateTime pattern="#{bindings.DraftInvoiceRequisition.hints.RequestDate.format}"/>
                                                </af:inputDate>
                                            </af:column>
                                            <af:column sortProperty="#{bindings.DraftInvoiceRequisition.hints.Requestor.name}"
                                                       headerText="#{bindings.DraftInvoiceRequisition.hints.Requestor.label}"
                                                       id="c67">
                                                <af:inputText value="#{row.bindings.Requestor.inputValue}"
                                                              label="#{bindings.DraftInvoiceRequisition.hints.Requestor.label}"
                                                              required="#{bindings.DraftInvoiceRequisition.hints.Requestor.mandatory}"
                                                              columns="#{bindings.DraftInvoiceRequisition.hints.Requestor.displayWidth}"
                                                              maximumLength="#{bindings.DraftInvoiceRequisition.hints.Requestor.precision}"
                                                              shortDesc="#{bindings.DraftInvoiceRequisition.hints.Requestor.tooltip}"
                                                              id="it11">
                                                    <f:validator binding="#{row.bindings.Requestor.validator}"/>
                                                </af:inputText>
                                            </af:column>
                                            <af:column sortProperty="#{bindings.DraftInvoiceRequisition.hints.CustomerContactor.name}"
                                                       headerText="#{bindings.DraftInvoiceRequisition.hints.CustomerContactor.label}"
                                                       id="c68">
                                                <af:inputText value="#{row.bindings.CustomerContactor.inputValue}"
                                                              label="#{bindings.DraftInvoiceRequisition.hints.CustomerContactor.label}"
                                                              required="#{bindings.DraftInvoiceRequisition.hints.CustomerContactor.mandatory}"
                                                              columns="#{bindings.DraftInvoiceRequisition.hints.CustomerContactor.displayWidth}"
                                                              maximumLength="#{bindings.DraftInvoiceRequisition.hints.CustomerContactor.precision}"
                                                              shortDesc="#{bindings.DraftInvoiceRequisition.hints.CustomerContactor.tooltip}"
                                                              id="it12">
                                                    <f:validator binding="#{row.bindings.CustomerContactor.validator}"/>
                                                </af:inputText>
                                            </af:column>
                                        </af:table>
                                    </af:panelCollection>
                                </f:facet>
                                <f:facet name="start"/>
                                <f:facet name="end"/>
                                <f:facet name="top">
                                    <af:panelList id="pl1">
                                        <af:outputText value="您将提交申请开具以下各项发票，请确认：" id="ot78"
                                                       inlineStyle="font-size:small;"/>
                                    </af:panelList>
                                </f:facet>
                            </af:panelStretchLayout>
                        </af:panelBox>
                    </af:panelWindow>
                </af:popup>
                <af:popup childCreation="deferred" autoCancel="disabled" id="p6">
                    <af:dialog id="d3" title="确定该操作吗？" dialogListener="#{BrowseBean.confirmSubmit}"
                               closeIconVisible="false">
                        <f:facet name="buttonBar"/>
                        <af:panelList id="pl3">
                            <af:outputText value="确认后，发票申请将会提交至本部门主任审核，最后通过市场部主任审核通过后方能开票 ！" id="ot79"/>
                        </af:panelList>
                    </af:dialog>
                </af:popup>
            </af:form>
            <af:clientListener type="load" method="disableContextMenu"/>
        </af:document>
    </f:view>
    <!--oracle-jdev-comment:preferred-managed-bean-name:BrowseBean-->
</jsp:root>
